Subject: [PATCH] feat:ä¼˜åŒ–æ•´ç†ä»£ç æ¶æ„ï¼ŒåŠŸèƒ½åŸºæœ¬å®ç°
---
Index: backend/routes/analysis_routes.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/backend/routes/analysis_routes.py b/backend/routes/analysis_routes.py
--- a/backend/routes/analysis_routes.py	(revision abb8849e19eeefdeafa9ee7a9e43ec14678cd86b)
+++ b/backend/routes/analysis_routes.py	(revision 8ba06953ad09fca75dbc11f9d3c3d2860d611ecb)
@@ -3,159 +3,303 @@
 import numpy as np
 import scipy.stats as stats
 from flask import Blueprint, request, jsonify
+from sklearn.ensemble import RandomForestRegressor
+from sklearn.model_selection import train_test_split
+from sklearn.metrics import mean_squared_error, r2_score
+
 from config import UPLOAD_FOLDER
 
 analysis_bp = Blueprint('analysis', __name__)
 
 
 def read_df(filepath):
+    """
+    é€šç”¨æ•°æ®è¯»å–å·¥å…·å‡½æ•°
+    æ”¯æŒè‡ªåŠ¨è¯†åˆ« csv ä¸ excel æ ¼å¼ï¼Œå¹¶å¤„ç†å¸¸è§ç¼–ç é—®é¢˜
+    """
     ext = filepath.rsplit('.', 1)[1].lower()
     if ext == 'csv':
         try:
             return pd.read_csv(filepath, encoding='utf-8')
-        except:
+        except UnicodeDecodeError:
             return pd.read_csv(filepath, encoding='gbk')
     else:
         return pd.read_excel(filepath, engine='openpyxl' if ext == 'xlsx' else 'xlrd')
 
 
+# ==========================================
+# æ¨¡å—ä¸€ï¼šåŸºç¡€ç»Ÿè®¡ä¸åˆ†å¸ƒå¯è§†åŒ–
+# ==========================================
+
 @analysis_bp.route('/api/analyze/descriptive', methods=['POST'])
 def descriptive_analysis():
-    df = read_df(os.path.join(UPLOAD_FOLDER, request.json.get('filename')))
-    selected = [c for c in request.json.get('columns', []) if c in df.columns]
-    stats_data = []
-    for col in selected:
-        d = df[col].dropna()
-        stats_data.append({"variable": str(col), "count": int(d.count()), "mean": float(round(d.mean(), 4)),
-                           "median": float(round(d.median(), 4)), "std": float(round(d.std(), 4)),
-                           "min": float(round(d.min(), 4)), "max": float(round(d.max(), 4))})
-    return jsonify({"status": "success", "data": stats_data})
+    """æ‰§è¡Œæè¿°æ€§ç»Ÿè®¡åˆ†æï¼ˆå‡å€¼ã€ä¸­ä½æ•°ã€æ ‡å‡†å·®ç­‰ï¼‰"""
+    try:
+        df = read_df(os.path.join(UPLOAD_FOLDER, request.json.get('filename')))
+        selected = [c for c in request.json.get('columns', []) if c in df.columns]
+
+        stats_data = []
+        for col in selected:
+            d = df[col].dropna()
+            stats_data.append({
+                "variable": str(col),
+                "count": int(d.count()),
+                "mean": float(round(d.mean(), 4)),
+                "median": float(round(d.median(), 4)),
+                "std": float(round(d.std(), 4)),
+                "min": float(round(d.min(), 4)),
+                "max": float(round(d.max(), 4))
+            })
+
+        return jsonify({"status": "success", "data": stats_data})
+    except Exception as e:
+        return jsonify({"status": "error", "message": str(e)}), 500
 
 
 @analysis_bp.route('/api/visualize/distribution', methods=['POST'])
 def visualize_distribution():
-    df = read_df(os.path.join(UPLOAD_FOLDER, request.json.get('filename')))
-    selected = request.json.get('columns', [])
-    charts_data = []
-    for col in selected:
-        if col not in df.columns: continue
-        d = df[col].dropna()
-        if len(d) == 0: continue
-        counts, bin_edges = np.histogram(d, bins='auto')
-        charts_data.append({"variable": col, "boxplot": [float(d.min()), float(d.quantile(0.25)), float(d.median()),
-                                                         float(d.quantile(0.75)), float(d.max())], "histogram": {
-            "categories": [f"{round(bin_edges[i], 1)}~{round(bin_edges[i + 1], 1)}" for i in range(len(counts))],
-            "series": [int(c) for c in counts]}})
-    return jsonify({"status": "success", "data": charts_data})
+    """ç”Ÿæˆæ•°å€¼å‹å˜é‡çš„ç›´æ–¹å›¾ä¸ç®±çº¿å›¾æ•°æ®"""
+    try:
+        df = read_df(os.path.join(UPLOAD_FOLDER, request.json.get('filename')))
+        selected = request.json.get('columns', [])
+
+        charts_data = []
+        for col in selected:
+            if col not in df.columns:
+                continue
+
+            d = df[col].dropna()
+            if len(d) == 0:
+                continue
+
+            counts, bin_edges = np.histogram(d, bins='auto')
+
+            charts_data.append({
+                "variable": col,
+                "boxplot": [
+                    float(d.min()), float(d.quantile(0.25)), float(d.median()),
+                    float(d.quantile(0.75)), float(d.max())
+                ],
+                "histogram": {
+                    "categories": [f"{round(bin_edges[i], 1)}~{round(bin_edges[i + 1], 1)}" for i in
+                                   range(len(counts))],
+                    "series": [int(c) for c in counts]
+                }
+            })
+
+        return jsonify({"status": "success", "data": charts_data})
+    except Exception as e:
+        return jsonify({"status": "error", "message": str(e)}), 500
 
 
 @analysis_bp.route('/api/visualize/categorical', methods=['POST'])
 def visualize_categorical():
-    df = read_df(os.path.join(UPLOAD_FOLDER, request.json.get('filename')))
-    cat_cols = df.select_dtypes(include=['object']).columns.tolist()
-    charts_data = []
-    for col in cat_cols:
-        # ã€ä¿®å¤1ã€‘æ¢å¤ä¸¥æ ¼è¿‡æ»¤ï¼Œç»å¯¹ä¸è®©â€œå§“åâ€æˆ–â€œå­¦å·â€è¿™ç§å”¯ä¸€æ ‡è¯†ç¬¦å»ç”»é¥¼å›¾ï¼
-        if any(kw in str(col).lower() for kw in ['å§“å', 'name', 'å·', 'id']) or df[col].nunique() > 15:
-            continue
-        counts = df[col].value_counts()
-        charts_data.append({"variable": col, "categories": counts.index.tolist(), "values": counts.values.tolist(),
-                            "pie_data": [{"name": str(k), "value": int(v)} for k, v in counts.items()]})
-    return jsonify({"status": "success", "data": charts_data})
+    """ç”Ÿæˆåˆ†ç±»å˜é‡çš„é¥¼å›¾æ•°æ®"""
+    try:
+        df = read_df(os.path.join(UPLOAD_FOLDER, request.json.get('filename')))
+        cat_cols = df.select_dtypes(include=['object']).columns.tolist()
+
+        charts_data = []
+        for col in cat_cols:
+            # ä¸¥æ ¼è¿‡æ»¤ï¼šç»å¯¹ä¸è®©å”¯ä¸€æ ‡è¯†ç¬¦ï¼ˆå¦‚å§“åã€å­¦å·ï¼‰å»ç”»é¥¼å›¾
+            if any(kw in str(col).lower() for kw in ['å§“å', 'name', 'å·', 'id']) or df[col].nunique() > 15:
+                continue
+
+            counts = df[col].value_counts()
+            charts_data.append({
+                "variable": col,
+                "categories": counts.index.tolist(),
+                "values": counts.values.tolist(),
+                "pie_data": [{"name": str(k), "value": int(v)} for k, v in counts.items()]
+            })
+
+        return jsonify({"status": "success", "data": charts_data})
+    except Exception as e:
+        return jsonify({"status": "error", "message": str(e)}), 500
 
 
-# ================== ã€å…¨æ–°ã€‘ä¸“é—¨ç”¨äºè·å–é›·è¾¾å›¾ä¸‹æ‹‰é€‰é¡¹çš„æ¥å£ ==================
+# ==========================================
+# æ¨¡å—äºŒï¼šé«˜é˜¶åˆ†æï¼ˆç›¸å…³æ€§ã€tæ£€éªŒã€é›·è¾¾å›¾ï¼‰
+# ==========================================
+
 @analysis_bp.route('/api/get_options', methods=['POST'])
 def get_options():
+    """è·å–æŒ‡å®šåˆ—çš„æ‰€æœ‰å”¯ä¸€é€‰é¡¹ï¼ˆç”¨äºé›·è¾¾å›¾ä¸‹æ‹‰æ¡†ï¼‰"""
     try:
         df = read_df(os.path.join(UPLOAD_FOLDER, request.json.get('filename')))
         col = request.json.get('column')
+
         if col not in df.columns:
             return jsonify({"status": "error", "message": "åˆ—ä¸å­˜åœ¨"}), 400
 
-        # å¼ºåˆ¶å°†è¯¥åˆ—è½¬ä¸ºå­—ç¬¦ä¸²å¹¶å»é‡ï¼Œæœ€å¤šå–1000ä¸ªé˜²æ­¢æµè§ˆå™¨å¡æ­»
+        # å¼ºåˆ¶å°†è¯¥åˆ—è½¬ä¸ºå­—ç¬¦ä¸²å¹¶å»é‡ï¼Œæœ€å¤šå– 1000 ä¸ªé˜²æ­¢æµè§ˆå™¨å¡æ­»
         options = df[col].dropna().astype(str).unique().tolist()[:1000]
         return jsonify({"status": "success", "data": options})
     except Exception as e:
         return jsonify({"status": "error", "message": str(e)}), 500
 
 
-# ========================================================================
-
 @analysis_bp.route('/api/analyze/advanced', methods=['POST'])
 def advanced_analysis():
-    df = read_df(os.path.join(UPLOAD_FOLDER, request.json.get('filename')))
-    selected = [c for c in request.json.get('columns', []) if c in df.columns]
-    if len(selected) < 2: return jsonify({"status": "error", "message": "å˜é‡è¿‡å°‘"}), 400
-    try:
+    """é«˜é˜¶å…³è”åˆ†æï¼šæ­£æ€æ€§æ£€éªŒã€çš®å°”é€Šç›¸å…³ç³»æ•°çŸ©é˜µã€æ•£ç‚¹å›¾"""
+    try:
+        df = read_df(os.path.join(UPLOAD_FOLDER, request.json.get('filename')))
+        selected = [c for c in request.json.get('columns', []) if c in df.columns]
+
+        if len(selected) < 2:
+            return jsonify({"status": "error", "message": "å˜é‡è¿‡å°‘ï¼Œæ— æ³•è¿›è¡Œå…³è”åˆ†æ"}), 400
+
+        # 1. æ­£æ€æ€§æ£€éªŒ (Shapiro-Wilk)
         normality_results = []
         for col in selected:
             d = df[col].dropna()
             if len(d) >= 3:
                 stat, p = stats.shapiro(d)
-                normality_results.append(
-                    {"variable": col, "statistic": float(round(stat, 4)), "p_value": float(round(p, 4)),
-                     "is_normal": bool(p > 0.05)})
+                normality_results.append({
+                    "variable": col,
+                    "statistic": float(round(stat, 4)),
+                    "p_value": float(round(p, 4)),
+                    "is_normal": bool(p > 0.05)
+                })
 
+        # 2. ç›¸å…³æ€§çŸ©é˜µæ„å»º
         corr_matrix = []
         corr_df = df[selected].corr(method='pearson').fillna(0).round(3)
         for i in range(len(selected)):
-            for j in range(len(selected)): corr_matrix.append([i, j, float(corr_df.iloc[i, j])])
+            for j in range(len(selected)):
+                corr_matrix.append([i, j, float(corr_df.iloc[i, j])])
 
+        # 3. æ•£ç‚¹å›¾æ•°æ®æŠ½å– (å–å‰ä¸¤ä¸ªå˜é‡)
         var1, var2 = selected[0], selected[1]
         scatter_vars = [var1, var2]
         temp_df = df[[var1, var2]].copy().dropna()
         scatter_data = temp_df.values.tolist()
 
-        return jsonify({"status": "success", "data": {"variables": selected, "normality": normality_results,
-                                                      "correlation_matrix": corr_matrix, "scatter_data": scatter_data,
-                                                      "scatter_vars": scatter_vars}})
+        return jsonify({
+            "status": "success",
+            "data": {
+                "variables": selected,
+                "normality": normality_results,
+                "correlation_matrix": corr_matrix,
+                "scatter_data": scatter_data,
+                "scatter_vars": scatter_vars
+            }
+        })
     except Exception as e:
         return jsonify({"status": "error", "message": str(e)}), 500
 
 
 @analysis_bp.route('/api/analyze/ttest', methods=['POST'])
 def ttest_analysis():
-    df = read_df(os.path.join(UPLOAD_FOLDER, request.json.get('filename')))
-    group_col, target_cols = request.json.get('group_col'), request.json.get('columns', [])
-    if not group_col or group_col not in df.columns: return jsonify(
-        {"status": "error", "message": "æœªé€‰æ‹©æœ‰æ•ˆåˆ†ç»„å˜é‡"}), 400
-    try:
+    """ç‹¬ç«‹æ ·æœ¬ t æ£€éªŒ"""
+    try:
+        df = read_df(os.path.join(UPLOAD_FOLDER, request.json.get('filename')))
+        group_col = request.json.get('group_col')
+        target_cols = request.json.get('columns', [])
+
+        if not group_col or group_col not in df.columns:
+            return jsonify({"status": "error", "message": "æœªé€‰æ‹©æœ‰æ•ˆåˆ†ç»„å˜é‡"}), 400
+
         groups = df[group_col].dropna().unique()
-        if len(groups) != 2: return jsonify({"status": "error", "message": "éäºŒåˆ†ç±»å˜é‡"}), 400
-        group1_data, group2_data = df[df[group_col] == groups[0]], df[df[group_col] == groups[1]]
+        if len(groups) != 2:
+            return jsonify({"status": "error", "message": "éäºŒåˆ†ç±»å˜é‡ï¼Œæ— æ³•è¿›è¡Œ t æ£€éªŒ"}), 400
+
+        group1_data = df[df[group_col] == groups[0]]
+        group2_data = df[df[group_col] == groups[1]]
         results = []
+
         for col in target_cols:
             if col in df.columns and pd.api.types.is_numeric_dtype(df[col]):
-                d1, d2 = group1_data[col].dropna(), group2_data[col].dropna()
+                d1 = group1_data[col].dropna()
+                d2 = group2_data[col].dropna()
+
                 if len(d1) > 1 and len(d2) > 1:
                     stat, p = stats.ttest_ind(d1, d2, equal_var=False)
-                    results.append(
-                        {"variable": col, "group1_name": str(groups[0]), "group1_mean": float(round(d1.mean(), 4)),
-                         "group2_name": str(groups[1]), "group2_mean": float(round(d2.mean(), 4)),
-                         "t_value": float(round(stat, 4)), "p_value": float(round(p, 4)),
-                         "significant": bool(p < 0.05)})
+                    results.append({
+                        "variable": col,
+                        "group1_name": str(groups[0]),
+                        "group1_mean": float(round(d1.mean(), 4)),
+                        "group2_name": str(groups[1]),
+                        "group2_mean": float(round(d2.mean(), 4)),
+                        "t_value": float(round(stat, 4)),
+                        "p_value": float(round(p, 4)),
+                        "significant": bool(p < 0.05)
+                    })
+
         return jsonify({"status": "success", "data": results})
     except Exception as e:
         return jsonify({"status": "error", "message": str(e)}), 500
 
 
+@analysis_bp.route('/api/visualize/radar', methods=['POST'])
+def visualize_radar():
+    """ä¸ªä½“é›·è¾¾å›¾èƒ½åŠ›è¯Šæ–­"""
+    try:
+        filename = request.json.get('filename')
+        id_col = request.json.get('id_col')
+        target_val = request.json.get('target_val')
+
+        df = read_df(os.path.join(UPLOAD_FOLDER, filename))
+        numeric_df = df.select_dtypes(include=['number'])
+
+        # è¿‡æ»¤æ— æ•ˆæŒ‡æ ‡
+        valid_numeric_cols = [c for c in numeric_df.columns if
+                              not any(kw in str(c).lower() for kw in ['å·', 'id', 'ç¼–å·', 'ä»£ç '])]
+        if not valid_numeric_cols:
+            return jsonify({"status": "error", "message": "æœªæ‰¾åˆ°å¯ç”¨äºé›·è¾¾å›¾çš„æ•°å€¼æŒ‡æ ‡"}), 400
+
+        avg_data = numeric_df[valid_numeric_cols].mean().round(2).tolist()
+
+        # å¼ºåˆ¶ç±»å‹è½¬æ¢æ¯”å¯¹ï¼Œè§£å†³å­¦å·ç­‰å­—ç¬¦ä¸²æ•°å­—åŒ¹é…é—®é¢˜
+        target_row = df[df[id_col].astype(str) == str(target_val)]
+        if target_row.empty:
+            return jsonify({"status": "error", "message": "æœªæ‰¾åˆ°æŒ‡å®šä¸ªä½“"}), 400
+
+        target_data = target_row[valid_numeric_cols].iloc[0].fillna(0).round(2).tolist()
+        indicators = [{"name": col, "max": float(numeric_df[col].max()) * 1.1} for col in valid_numeric_cols]
+
+        return jsonify({
+            "status": "success",
+            "data": {
+                "indicators": indicators,
+                "avg_data": avg_data,
+                "target_data": target_data,
+                "target_name": str(target_val)
+            }
+        })
+    except Exception as e:
+        return jsonify({"status": "error", "message": str(e)}), 500
+
+
+# ==========================================
+# æ¨¡å—ä¸‰ï¼šAI æ™ºèƒ½åŒ–ä¸æœºå™¨å­¦ä¹ ç®—æ³•
+# ==========================================
+
 @analysis_bp.route('/api/analyze/summary', methods=['POST'])
 def generate_summary():
+    """AI æ™ºèƒ½æ–‡å­—æ•°æ®è§£è¯»æŠ¥å‘Šç”Ÿæˆ"""
     try:
         filename = request.json.get('filename')
-        if not filename: return jsonify({"status": "error", "message": "ç³»ç»Ÿæœªæ‰¾åˆ°å½“å‰å¤„ç†çš„æ–‡ä»¶"}), 400
+        if not filename:
+            return jsonify({"status": "error", "message": "ç³»ç»Ÿæœªæ‰¾åˆ°å½“å‰å¤„ç†çš„æ–‡ä»¶"}), 400
+
         df = read_df(os.path.join(UPLOAD_FOLDER, filename))
+
+        # å°è¯•å°†æ‰€æœ‰åˆ—è½¬ä¸ºæ•°å€¼å‹ï¼Œä¾¿äºåç»­æå–
         for col in df.columns:
             try:
                 df[col] = pd.to_numeric(df[col])
             except Exception:
                 pass
+
         numeric_cols = [c for c in df.columns if pd.api.types.is_numeric_dtype(df[c]) and not any(
             kw in str(c).lower() for kw in ['å·', 'id', 'ç¼–å·', 'ä»£ç '])]
         insights = []
+
+        # 1. æ¦‚è§ˆæ´å¯Ÿ
         insights.append(
             f"âœ¨ **æ•°æ®æ¦‚è§ˆ**ï¼šå½“å‰æ•°æ®é›†å…±åŒ…å« {len(df)} æ¡è®°å½•ï¼ŒæˆåŠŸè¯†åˆ«å‡º {len(numeric_cols)} ä¸ªå…³é”®æ•°å€¼æŒ‡æ ‡ã€‚")
+
         if len(numeric_cols) > 0:
             std_series = df[numeric_cols].std()
             if not std_series.isna().all():
@@ -164,9 +308,13 @@
                 if pd.notna(max_std_col) and pd.notna(min_std_col):
                     insights.append(
                         f"ğŸ“Š **æ³¢åŠ¨æ´å¯Ÿ**ï¼šæ•°æ®ä¸­ã€{max_std_col}ã€‘çš„ç¦»æ•£ç¨‹åº¦æœ€å¤§ï¼Œè¯´æ˜ä¸ªä½“å·®å¼‚æœ€æ˜¾è‘—ï¼›è€Œã€{min_std_col}ã€‘åˆ†å¸ƒæœ€ä¸ºé›†ä¸­ç¨³å®šã€‚")
+
+            # 2. å…³è”æ´å¯Ÿ
             if len(numeric_cols) >= 2:
                 corr_df = df[numeric_cols].corr().abs()
-                for i in range(len(corr_df.columns)): corr_df.iloc[i, i] = 0.0
+                for i in range(len(corr_df.columns)):
+                    corr_df.iloc[i, i] = 0.0
+
                 if not corr_df.isna().all().all():
                     max_corr = corr_df.max().max()
                     if pd.notna(max_corr) and max_corr > 0.5:
@@ -175,33 +323,110 @@
                         var1, var2 = corr_df.index[row_idx], corr_df.columns[col_idx]
                         insights.append(
                             f"ğŸ”— **å¼ºå…³è”å‘ç°**ï¼šç³»ç»Ÿæ£€æµ‹åˆ°ã€{var1}ã€‘ä¸ã€{var2}ã€‘å­˜åœ¨è¾ƒå¼ºçš„çº¿æ€§ç›¸å…³æ€§ï¼ˆr={round(max_corr, 2)}ï¼‰ã€‚è¿™è¡¨æ˜å½“å…¶ä¸­ä¸€ä¸ªæŒ‡æ ‡å˜åŒ–æ—¶ï¼Œå¦ä¸€ä¸ªå¾€å¾€ä¹Ÿä¼šéšä¹‹å‘ˆç°è§„å¾‹æ€§æ³¢åŠ¨ã€‚")
+
         insights.append("ğŸ’¡ **åˆ†æå»ºè®®**ï¼šå»ºè®®ç»“åˆå³ä¾§çš„é›·è¾¾å›¾è¿›è¡Œä¸ªä½“ä¼˜åŠ¿è¯Šæ–­ï¼Œå¹¶åˆ©ç”¨ t æ£€éªŒè¿›ä¸€æ­¥æ¢ç´¢ä¸åŒç¾¤ä½“é—´çš„å·®å¼‚ã€‚")
         return jsonify({"status": "success", "data": insights})
     except Exception as e:
         return jsonify({"status": "error", "message": f"ç®—æ³•è¿ç®—å¼‚å¸¸: {str(e)}"}), 500
 
 
-@analysis_bp.route('/api/visualize/radar', methods=['POST'])
-def visualize_radar():
+@analysis_bp.route('/api/predict', methods=['POST'])
+def predict_data():
+    """æœºå™¨å­¦ä¹ é¢„æµ‹å¼•æ“ (Random Forest Regressor)"""
+    try:
+        data = request.json
+        filename = data.get('filename')
+        target_col = data.get('target_col')
+        feature_cols = data.get('feature_cols', [])
+
+        if not filename or not target_col or len(feature_cols) == 0:
+            return jsonify({"status": "error", "message": "å‚æ•°ä¸å®Œæ•´"}), 400
+
+        df = read_df(os.path.join(UPLOAD_FOLDER, filename))
+
+        # æå–æœ‰æ•ˆæ•°æ®å¹¶æ¸…ç†ç©ºå€¼
+        df_clean = df[[target_col] + feature_cols].dropna()
+        if len(df_clean) < 10:
+            return jsonify({"status": "error", "message": "æœ‰æ•ˆæ•°æ®é‡å¤ªå°‘ï¼Œæ— æ³•è®­ç»ƒæ¨¡å‹"}), 400
+
+        X = df_clean[feature_cols]
+        y = df_clean[target_col]
+
+        # åˆ’åˆ†è®­ç»ƒé›†å’Œæµ‹è¯•é›†
+        X_train, X_test, y_train, y_test = train_test_split(X, y, test_size=0.2, random_state=42)
+
+        # è®­ç»ƒéšæœºæ£®æ—å›å½’æ¨¡å‹
+        model = RandomForestRegressor(n_estimators=100, random_state=42)
+        model.fit(X_train, y_train)
+        y_pred = model.predict(X_test)
+
+        # è®¡ç®—æ¨¡å‹è¯„ä¼°æŒ‡æ ‡
+        r2 = r2_score(y_test, y_pred)
+        mse = mean_squared_error(y_test, y_pred)
+        importances = model.feature_importances_.tolist()
+
+        # ç»„è£…æ•£ç‚¹å›¾æ•°æ®
+        scatter_data = [[float(actual), float(pred)] for actual, pred in
+                        zip(y_test.tolist()[:100], y_pred.tolist()[:100])]
+
+        return jsonify({
+            "status": "success",
+            "data": {
+                "r2": round(r2, 4),
+                "mse": round(mse, 4),
+                "features": feature_cols,
+                "importances": [round(i * 100, 2) for i in importances],
+                "scatter": scatter_data
+            }
+        })
+    except Exception as e:
+        return jsonify({"status": "error", "message": str(e)}), 500
+
+
+# ==========================================
+# æ¨¡å—å››ï¼šä¼ä¸šçº§å®‰å…¨åè®®
+# ==========================================
+
+@analysis_bp.route('/api/mask', methods=['POST'])
+def mask_data():
+    """ä¼ä¸šçº§éšç§æ•°æ®è„±æ•åŠ å¯†"""
     try:
         filename = request.json.get('filename')
-        id_col = request.json.get('id_col')
-        target_val = request.json.get('target_val')
+        if not filename:
+            return jsonify({"status": "error", "message": "æœªæ‰¾åˆ°æ–‡ä»¶"}), 400
+
         df = read_df(os.path.join(UPLOAD_FOLDER, filename))
-        numeric_df = df.select_dtypes(include=['number'])
-        valid_numeric_cols = [c for c in numeric_df.columns if
-                              not any(kw in str(c).lower() for kw in ['å·', 'id', 'ç¼–å·', 'ä»£ç '])]
-        if not valid_numeric_cols: return jsonify({"status": "error", "message": "æœªæ‰¾åˆ°å¯ç”¨äºé›·è¾¾å›¾çš„æ•°å€¼æŒ‡æ ‡"}), 400
-        avg_data = numeric_df[valid_numeric_cols].mean().round(2).tolist()
+        masked_cols = []
+
+        # æ ¸å¿ƒåŠ å¯†ç®—æ³•å‡½æ•°
+        def mask_val(x):
+            x = str(x).strip()
+            if x in ['nan', 'None', '']:
+                return x
+            if len(x) <= 2:
+                return x[0] + '*'
+            elif len(x) == 3:
+                return x[0] + '*' + x[-1]
+            else:
+                return x[:4] + '****'
 
-        # ã€ä¿®å¤2ã€‘å¼ºåˆ¶å°†è¡¨æ ¼é‡Œçš„åˆ—å’Œå‰ç«¯ä¼ æ¥çš„å€¼éƒ½è½¬æˆå­—ç¬¦ä¸²å†åšæ¯”å¯¹ï¼å®Œç¾è§£å†³å­¦å·åŒ¹é…å¤±è´¥é—®é¢˜ï¼
-        target_row = df[df[id_col].astype(str) == str(target_val)]
+        # æ™ºèƒ½æ‰«ææ•æ„Ÿåˆ—
+        for col in df.columns:
+            col_name = str(col).lower()
+            if any(kw in col_name for kw in ['å', 'name', 'å·', 'id', 'æ‰‹æœº', 'ç”µè¯', 'èº«ä»½']):
+                masked_cols.append(col)
+                df[col] = df[col].apply(mask_val)
 
-        if target_row.empty: return jsonify({"status": "error", "message": "æœªæ‰¾åˆ°æŒ‡å®šä¸ªä½“"}), 400
-        target_data = target_row[valid_numeric_cols].iloc[0].fillna(0).round(2).tolist()
-        indicators = [{"name": col, "max": float(numeric_df[col].max()) * 1.1} for col in valid_numeric_cols]
-        return jsonify({"status": "success",
-                        "data": {"indicators": indicators, "avg_data": avg_data, "target_data": target_data,
-                                 "target_name": str(target_val)}})
+        # å¦å­˜è„±æ•æ–‡ä»¶
+        masked_filename = "masked_" + filename
+        df.to_csv(os.path.join(UPLOAD_FOLDER, masked_filename), index=False, encoding='utf-8-sig')
+
+        return jsonify({
+            "status": "success",
+            "data": {
+                "masked_filename": masked_filename,
+                "masked_cols": masked_cols
+            }
+        })
     except Exception as e:
         return jsonify({"status": "error", "message": str(e)}), 500
\ No newline at end of file
Index: backend/routes/process_routes.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/backend/routes/process_routes.py b/backend/routes/process_routes.py
--- a/backend/routes/process_routes.py	(revision abb8849e19eeefdeafa9ee7a9e43ec14678cd86b)
+++ b/backend/routes/process_routes.py	(revision 8ba06953ad09fca75dbc11f9d3c3d2860d611ecb)
@@ -5,49 +5,102 @@
 
 process_bp = Blueprint('process', __name__)
 
+
 def read_df(filepath):
+    """æ–‡ä»¶è¯»å–å¸®åŠ©å‡½æ•°"""
     ext = filepath.rsplit('.', 1)[1].lower()
     if ext == 'csv':
-        try: return pd.read_csv(filepath, encoding='utf-8')
-        except: return pd.read_csv(filepath, encoding='gbk')
-    else: return pd.read_excel(filepath, engine='openpyxl' if ext == 'xlsx' else 'xlrd')
+        try:
+            return pd.read_csv(filepath, encoding='utf-8')
+        except UnicodeDecodeError:
+            return pd.read_csv(filepath, encoding='gbk')
+    else:
+        return pd.read_excel(filepath, engine='openpyxl' if ext == 'xlsx' else 'xlrd')
+
 
 @process_bp.route('/api/preview', methods=['POST'])
 def preview_data():
+    """è¿”å›å‰ 15 è¡Œæ•°æ®ç”¨äºå‰ç«¯é¢„è§ˆ"""
     try:
-        df = read_df(os.path.join(UPLOAD_FOLDER, request.json.get('filename')))
+        filename = request.json.get('filename')
+        df = read_df(os.path.join(UPLOAD_FOLDER, filename))
+
+        # é™åˆ¶è¿”å›è¡Œæ•°å¹¶è½¬æ¢ä¸ºå­—ç¬¦ä¸²é¿å… JSON åºåˆ—åŒ–æŠ¥é”™
         preview_df = df.head(15).fillna("").astype(str)
-        return jsonify({"status": "success", "data": { "columns": preview_df.columns.tolist(), "rows": preview_df.to_dict(orient='records') }})
-    except Exception as e: return jsonify({"status": "error", "message": str(e)}), 500
+
+        return jsonify({
+            "status": "success",
+            "data": {
+                "columns": preview_df.columns.tolist(),
+                "rows": preview_df.to_dict(orient='records')
+            }
+        })
+    except Exception as e:
+        return jsonify({"status": "error", "message": str(e)}), 500
+
 
 @process_bp.route('/api/clean', methods=['POST'])
 def clean_data():
+    """è‡ªåŠ¨æ•°æ®æ¸…æ´—ï¼šç¼ºå¤±å€¼å¡«å…… + æå€¼è£å‰ª (3-Sigma)"""
     try:
         filename = request.json.get('filename')
         df = read_df(os.path.join(UPLOAD_FOLDER, filename))
+
         numeric_cols = df.select_dtypes(include=['number']).columns
+
+        # 1. å‡å€¼å¡«å……ç¼ºå¤±å€¼
         df[numeric_cols] = df[numeric_cols].fillna(df[numeric_cols].mean())
+
+        # 2. 3-Sigma åŸåˆ™å¤„ç†å¼‚å¸¸æå€¼
         outliers_handled = 0
         for col in numeric_cols:
-            mean, std = df[col].mean(), df[col].std()
-            lower_bound, upper_bound = mean - 3 * std, mean + 3 * std
+            mean = df[col].mean()
+            std = df[col].std()
+            lower_bound = mean - 3 * std
+            upper_bound = mean + 3 * std
+
+            # ç»Ÿè®¡å¤„ç†äº†å¤šå°‘ä¸ªå¼‚å¸¸å€¼
             outliers_handled += ((df[col] < lower_bound) | (df[col] > upper_bound)).sum()
+            # å¼ºè¡ŒæŠŠæå€¼æ‹‰å›åˆ°è¾¹ç•Œä¸Š
             df[col] = df[col].clip(lower=lower_bound, upper=upper_bound)
+
         cleaned_filename = f"cleaned_{filename.split('.')[0]}.csv"
         df.to_csv(os.path.join(UPLOAD_FOLDER, cleaned_filename), index=False, encoding='utf-8-sig')
-        return jsonify({"status": "success", "message": "æ¸…æ´—å®Œæˆ", "data": {"cleaned_filename": cleaned_filename, "outliers_handled": int(outliers_handled)}})
-    except Exception as e: return jsonify({"status": "error", "message": str(e)}), 500
+
+        return jsonify({
+            "status": "success",
+            "message": "æ¸…æ´—å®Œæˆ",
+            "data": {
+                "cleaned_filename": cleaned_filename,
+                "outliers_handled": int(outliers_handled)
+            }
+        })
+    except Exception as e:
+        return jsonify({"status": "error", "message": str(e)}), 500
+
 
 @process_bp.route('/api/standardize', methods=['POST'])
 def standardize_data():
+    """æ‰§è¡Œ Z-Score æ ‡å‡†åŒ–ï¼Œæ¶ˆé™¤é‡çº²å½±å“"""
     try:
         filename = request.json.get('filename')
         df = read_df(os.path.join(UPLOAD_FOLDER, filename))
         numeric_cols = df.select_dtypes(include=['number']).columns
+
         for col in numeric_cols:
             std_val = df[col].std()
+            # é˜²æ­¢é™¤ä»¥ 0 çš„æƒ…å†µå¯¼è‡´æ•°æ®å´©æºƒ
             df[col] = (df[col] - df[col].mean()) / std_val if std_val != 0 else 0
+
         std_filename = f"std_{filename}"
         df.to_csv(os.path.join(UPLOAD_FOLDER, std_filename), index=False, encoding='utf-8-sig')
-        return jsonify({"status": "success", "message": "Z-score æ ‡å‡†åŒ–å®Œæˆï¼", "data": {"std_filename": std_filename}})
-    except Exception as e: return jsonify({"status": "error", "message": str(e)}), 500
\ No newline at end of file
+
+        return jsonify({
+            "status": "success",
+            "message": "Z-score æ ‡å‡†åŒ–å®Œæˆï¼",
+            "data": {
+                "std_filename": std_filename
+            }
+        })
+    except Exception as e:
+        return jsonify({"status": "error", "message": str(e)}), 500
\ No newline at end of file
Index: backend/routes/upload_routes.py
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/backend/routes/upload_routes.py b/backend/routes/upload_routes.py
--- a/backend/routes/upload_routes.py	(revision abb8849e19eeefdeafa9ee7a9e43ec14678cd86b)
+++ b/backend/routes/upload_routes.py	(revision 8ba06953ad09fca75dbc11f9d3c3d2860d611ecb)
@@ -10,23 +10,29 @@
 
 
 def read_df(filepath):
+    """é€šç”¨æ–‡ä»¶è¯»å–å‡½æ•°"""
     ext = filepath.rsplit('.', 1)[1].lower()
     if ext == 'csv':
         try:
             return pd.read_csv(filepath, encoding='utf-8')
-        except:
+        except UnicodeDecodeError:
             return pd.read_csv(filepath, encoding='gbk')
     else:
         return pd.read_excel(filepath, engine='openpyxl' if ext == 'xlsx' else 'xlrd')
 
 
-# æå–å‡ºçš„é€šç”¨å“åº”å‡½æ•°ï¼Œé˜²æ­¢é€»è¾‘å†—ä½™
 def process_and_respond(df, safe_filename, original_name):
+    """
+    æå–å‡ºçš„é€šç”¨å“åº”å‡½æ•°ï¼Œé˜²æ­¢è§£æé€»è¾‘åœ¨å¤šä¸ªä¸Šä¼ æ¥å£ä¸­å†—ä½™ã€‚
+    è´Ÿè´£è¯†åˆ«å­—æ®µç±»å‹ï¼Œå¹¶è¿”å›ç»™å‰ç«¯æ¸²æŸ“æ§åˆ¶å°ã€‚
+    """
     columns = df.columns.tolist()
+
     # æ™ºèƒ½è¯†åˆ«æ•°å€¼åˆ—ï¼ˆæ’é™¤åƒå­¦å·ã€IDè¿™ç§æ²¡æœ‰åˆ†ææ„ä¹‰çš„æ•°å­—ï¼‰
     numeric_cols = [c for c in columns if pd.api.types.is_numeric_dtype(df[c]) and not any(
         kw in str(c).lower() for kw in ['å·', 'id', 'ç¼–å·', 'ä»£ç ', 'ç´¢å¼•'])]
-    # è¯†åˆ«åˆ†ç±»å˜é‡ï¼ˆç”¨äºtæ£€éªŒåˆ†ç»„ï¼‰
+
+    # è¯†åˆ«äºŒåˆ†ç±»å˜é‡ï¼ˆä¸»è¦ç”¨äºæä¾›ç»™ t æ£€éªŒçš„åˆ†ç»„ä¾èµ–ï¼‰
     binary_cols = [c for c in columns if df[c].nunique() == 2]
 
     return jsonify({
@@ -44,75 +50,82 @@
 
 @upload_bp.route('/api/upload', methods=['POST'])
 def upload_file():
-    if 'file' not in request.files: return jsonify({"status": "error", "message": "æ²¡æœ‰æ–‡ä»¶"}), 400
+    """å¤„ç†ç”¨æˆ·ä¸Šä¼ çš„å®ä½“æ–‡ä»¶ (csv/xls/xlsx)"""
+    if 'file' not in request.files:
+        return jsonify({"status": "error", "message": "è¯·æ±‚ä¸­æœªåŒ…å«æ–‡ä»¶å¯¹è±¡"}), 400
+
     file = request.files['file']
-    if file.filename == '': return jsonify({"status": "error", "message": "æœªé€‰æ‹©æ–‡ä»¶"}), 400
+    if file.filename == '':
+        return jsonify({"status": "error", "message": "æœªé€‰æ‹©ä»»ä½•æ–‡ä»¶"}), 400
+
     if file and allowed_file(file.filename):
         ext = file.filename.rsplit('.', 1)[1].lower()
         safe_filename = f"upload_{int(time.time())}.{ext}"
         filepath = os.path.join(UPLOAD_FOLDER, safe_filename)
         file.save(filepath)
+
         try:
             df = read_df(filepath)
             return process_and_respond(df, safe_filename, file.filename)
         except Exception as e:
-            return jsonify({"status": "error", "message": str(e)}), 500
-    return jsonify({"status": "error", "message": "æ ¼å¼ä¸æ”¯æŒ"}), 400
+            return jsonify({"status": "error", "message": f"æ–‡ä»¶è§£æå¼‚å¸¸: {str(e)}"}), 500
 
+    return jsonify({"status": "error", "message": "ç³»ç»Ÿä¸æ”¯æŒè¯¥æ–‡ä»¶æ ¼å¼"}), 400
 
-# ======== ç»ˆæä¿®å¤ï¼šçº¯åŸç”Ÿ Python é¢„æ¸…æ´—ï¼Œå½»åº•æœç» Pandas æŠ¥é”™ ========
+
 @upload_bp.route('/api/upload_manual', methods=['POST'])
 def upload_manual():
+    """å¤„ç†ç”¨æˆ·åœ¨å‰ç«¯é¢æ¿çº¯æ‰‹å·¥è¾“å…¥çš„è¡¨æ ¼æ•°æ®ï¼Œå¹¶è™šæ‹ŸåŒ–ä¸º CSV æ–‡ä»¶"""
     data = request.json.get('grid')
     if not data or len(data) < 2:
         return jsonify({"status": "error", "message": "è¡¨æ ¼å†…å®¹ä¸è¶³ï¼Œè¯·è‡³å°‘è¾“å…¥ä¸€è¡Œæ•°æ®"}), 400
+
     try:
-        # 1. çº¯ Python å¤„ç†è¡¨å¤´
+        # 1. çº¯ Python å¤„ç†è¡¨å¤´é‡åæ ¡éªŒ
         raw_headers = data[0]
         headers = []
         for i, h in enumerate(raw_headers):
             h_str = str(h).strip() if h else f"æŒ‡æ ‡_{i + 1}"
-            while h_str in headers: h_str = f"{h_str}_å‰¯æœ¬"
+            while h_str in headers:
+                h_str = f"{h_str}_å‰¯æœ¬"
             headers.append(h_str)
 
         # 2. çº¯ Python æ¸…æ´—æ•°æ®è¡Œ (å½»åº•æŠ›å¼ƒ Pandas çš„ replace é€»è¾‘ï¼Œé¿å¼€ç‰ˆæœ¬å…¼å®¹ bug)
         cleaned_rows = []
         for row in data[1:]:
-            # å°†æ‰€æœ‰å•å…ƒæ ¼è½¬ä¸ºå­—ç¬¦ä¸²å¹¶å»å‰åç©ºæ ¼ï¼Œå¦‚æœç©ºç©ºå¦‚ä¹Ÿï¼Œå°±ç”¨ np.nan å ä½
             cleaned_row = [np.nan if str(val).strip() == "" else str(val).strip() for val in row]
-
-            # ã€å…³é”®ã€‘åªæœ‰å½“è¿™ä¸€è¡Œé‡Œæœ‰è‡³å°‘ä¸€ä¸ªéç©ºæ•°æ®æ—¶ï¼Œæ‰æŠŠå®ƒæ”¾è¿›æ¥
+            # ä»…ä¿ç•™å«æœ‰æœ‰æ•ˆæ•°æ®çš„è¡Œ
             if any(pd.notna(val) for val in cleaned_row):
                 cleaned_rows.append(cleaned_row)
 
         if not cleaned_rows:
             return jsonify({"status": "error", "message": "æäº¤çš„è¡¨æ ¼æ²¡æœ‰ä»»ä½•æœ‰æ•ˆæ•°æ®ï¼Œè¯·å…ˆå¡«å†™å†…å®¹"}), 400
 
-        # 3. æŠŠæ´—å¾—å¹²å¹²å‡€å‡€çš„æ•°æ®å–‚ç»™ DataFrame
+        # 3. æ•°æ®è½½å…¥ DataFrame
         df = pd.DataFrame(cleaned_rows, columns=headers)
 
-        # 4. å®‰å…¨çš„æ•°å­—ç±»å‹æ¨æ–­ (ç”¨ Try-Except ç»•å¼€ errors='ignore' çš„æ½œåœ¨ bug)
+        # 4. å®‰å…¨çš„æ•°å­—ç±»å‹æ¨æ–­ (ä¿ç•™åˆ†ç±»æ–‡å­—ï¼Œåªè½¬æ¢çº¯æ•°å­—)
         for col in df.columns:
             try:
-                # å°è¯•å°†è¿™åˆ—å¼ºåˆ¶è½¬ä¸ºæ•°å­—ï¼Œå¦‚æœè¿™åˆ—æ˜¯â€œå¼ ä¸‰æå››â€ï¼Œå°±ä¼šæŠ¥é”™è·³è¿‡ï¼Œä¿ç•™åŸæœ¬çš„æ–‡å­—
                 df[col] = pd.to_numeric(df[col])
             except (ValueError, TypeError):
                 pass
 
-        # 5. ä¿å­˜ç”Ÿæˆçš„è™šæ‹Ÿæ–‡ä»¶
+        # 5. ä¿å­˜ç”Ÿæˆçš„è™šæ‹Ÿæ–‡ä»¶è‡³ç¼“å†²åŒº
         safe_filename = f"manual_{int(time.time())}.csv"
         df.to_csv(os.path.join(UPLOAD_FOLDER, safe_filename), index=False, encoding='utf-8-sig')
 
         return process_and_respond(df, safe_filename, "åœ¨çº¿åˆ›å»ºæ•°æ®.csv")
     except Exception as e:
-        return jsonify({"status": "error", "message": f"è¡¨æ ¼è§£æå¤±è´¥: {str(e)}"}), 500
+        return jsonify({"status": "error", "message": f"æ‰‹å·¥è¡¨æ ¼è§£æå¤±è´¥: {str(e)}"}), 500
 
 
 @upload_bp.route('/api/cleanup', methods=['POST'])
 def cleanup_cache():
+    """æš´åŠ›æ¸…ç†æ‰€æœ‰æœåŠ¡å™¨ç«¯çš„ç¼“å­˜æ–‡ä»¶"""
     try:
         shutil.rmtree(UPLOAD_FOLDER)
         os.makedirs(UPLOAD_FOLDER, exist_ok=True)
-        return jsonify({"status": "success", "message": "ç³»ç»Ÿç¼“å­˜æ¸…ç†å®Œæ¯•"})
+        return jsonify({"status": "success", "message": "ç³»ç»Ÿæ ¸å¿ƒç¼“å­˜å·²æ¸…ç©º"})
     except Exception as e:
         return jsonify({"status": "error", "message": str(e)}), 500
\ No newline at end of file
Index: frontend/package-lock.json
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/package-lock.json b/frontend/package-lock.json
--- a/frontend/package-lock.json	(revision abb8849e19eeefdeafa9ee7a9e43ec14678cd86b)
+++ b/frontend/package-lock.json	(revision 8ba06953ad09fca75dbc11f9d3c3d2860d611ecb)
@@ -10,6 +10,8 @@
       "dependencies": {
         "axios": "^1.13.5",
         "echarts": "^6.0.0",
+        "html2canvas": "^1.4.1",
+        "jspdf": "^4.2.0",
         "vue": "^3.5.25"
       },
       "devDependencies": {
@@ -47,6 +49,14 @@
         "node": ">=6.0.0"
       }
     },
+    "node_modules/@babel/runtime": {
+      "version": "7.28.6",
+      "resolved": "https://registry.npmjs.org/@babel/runtime/-/runtime-7.28.6.tgz",
+      "integrity": "sha512-05WQkdpL9COIMz4LjTxGpPNCdlpyimKppYNoJ5Di5EUObifl8t4tuLuUBBZEpoLYOmfvIWrsp9fCl0HoPRVTdA==",
+      "engines": {
+        "node": ">=6.9.0"
+      }
+    },
     "node_modules/@babel/types": {
       "version": "7.29.0",
       "resolved": "https://registry.npmjs.org/@babel/types/-/types-7.29.0.tgz",
@@ -769,6 +779,23 @@
       "integrity": "sha512-dWHzHa2WqEXI/O1E9OjrocMTKJl2mSrEolh1Iomrv6U+JuNwaHXsXx9bLu5gG7BUWFIN0skIQJQ/L1rIex4X6w==",
       "dev": true
     },
+    "node_modules/@types/pako": {
+      "version": "2.0.4",
+      "resolved": "https://registry.npmjs.org/@types/pako/-/pako-2.0.4.tgz",
+      "integrity": "sha512-VWDCbrLeVXJM9fihYodcLiIv0ku+AlOa/TQ1SvYOaBuyrSKgEcro95LJyIsJ4vSo6BXIxOKxiJAat04CmST9Fw=="
+    },
+    "node_modules/@types/raf": {
+      "version": "3.4.3",
+      "resolved": "https://registry.npmjs.org/@types/raf/-/raf-3.4.3.tgz",
+      "integrity": "sha512-c4YAvMedbPZ5tEyxzQdMoOhhJ4RD3rngZIdwC2/qDN3d7JpEhB6fiBRKVY1lg5B7Wk+uPBjn5f39j1/2MY1oOw==",
+      "optional": true
+    },
+    "node_modules/@types/trusted-types": {
+      "version": "2.0.7",
+      "resolved": "https://registry.npmjs.org/@types/trusted-types/-/trusted-types-2.0.7.tgz",
+      "integrity": "sha512-ScaPdn1dQczgbl0QFTeTOmVHFULt394XJgOQNoyVhZ6r2vLnMLJfBPd53SB52T/3G36VI1/g2MZaX0cwDuXsfw==",
+      "optional": true
+    },
     "node_modules/@vitejs/plugin-vue": {
       "version": "6.0.4",
       "resolved": "https://registry.npmjs.org/@vitejs/plugin-vue/-/plugin-vue-6.0.4.tgz",
@@ -891,6 +918,14 @@
         "proxy-from-env": "^1.1.0"
       }
     },
+    "node_modules/base64-arraybuffer": {
+      "version": "1.0.2",
+      "resolved": "https://registry.npmjs.org/base64-arraybuffer/-/base64-arraybuffer-1.0.2.tgz",
+      "integrity": "sha512-I3yl4r9QB5ZRY3XuJVEPfc2XhZO6YweFPI+UovAzn+8/hb3oJ6lnysaFcjVpkCPfVWFUDvoZ8kmVDP7WyRtYtQ==",
+      "engines": {
+        "node": ">= 0.6.0"
+      }
+    },
     "node_modules/call-bind-apply-helpers": {
       "version": "1.0.2",
       "resolved": "https://registry.npmjs.org/call-bind-apply-helpers/-/call-bind-apply-helpers-1.0.2.tgz",
@@ -903,6 +938,25 @@
         "node": ">= 0.4"
       }
     },
+    "node_modules/canvg": {
+      "version": "3.0.11",
+      "resolved": "https://registry.npmjs.org/canvg/-/canvg-3.0.11.tgz",
+      "integrity": "sha512-5ON+q7jCTgMp9cjpu4Jo6XbvfYwSB2Ow3kzHKfIyJfaCAOHLbdKPQqGKgfED/R5B+3TFFfe8pegYA+b423SRyA==",
+      "optional": true,
+      "dependencies": {
+        "@babel/runtime": "^7.12.5",
+        "@types/raf": "^3.4.0",
+        "core-js": "^3.8.3",
+        "raf": "^3.4.1",
+        "regenerator-runtime": "^0.13.7",
+        "rgbcolor": "^1.0.1",
+        "stackblur-canvas": "^2.0.0",
+        "svg-pathdata": "^6.0.3"
+      },
+      "engines": {
+        "node": ">=10.0.0"
+      }
+    },
     "node_modules/combined-stream": {
       "version": "1.0.8",
       "resolved": "https://registry.npmjs.org/combined-stream/-/combined-stream-1.0.8.tgz",
@@ -914,6 +968,25 @@
         "node": ">= 0.8"
       }
     },
+    "node_modules/core-js": {
+      "version": "3.48.0",
+      "resolved": "https://registry.npmjs.org/core-js/-/core-js-3.48.0.tgz",
+      "integrity": "sha512-zpEHTy1fjTMZCKLHUZoVeylt9XrzaIN2rbPXEt0k+q7JE5CkCZdo6bNq55bn24a69CH7ErAVLKijxJja4fw+UQ==",
+      "hasInstallScript": true,
+      "optional": true,
+      "funding": {
+        "type": "opencollective",
+        "url": "https://opencollective.com/core-js"
+      }
+    },
+    "node_modules/css-line-break": {
+      "version": "2.1.0",
+      "resolved": "https://registry.npmjs.org/css-line-break/-/css-line-break-2.1.0.tgz",
+      "integrity": "sha512-FHcKFCZcAha3LwfVBhCQbW2nCNbkZXn7KVUJcsT5/P8YmfsVja0FMPJr0B903j/E69HUphKiV9iQArX8SDYA4w==",
+      "dependencies": {
+        "utrie": "^1.0.2"
+      }
+    },
     "node_modules/csstype": {
       "version": "3.2.3",
       "resolved": "https://registry.npmjs.org/csstype/-/csstype-3.2.3.tgz",
@@ -927,6 +1000,15 @@
         "node": ">=0.4.0"
       }
     },
+    "node_modules/dompurify": {
+      "version": "3.3.1",
+      "resolved": "https://registry.npmjs.org/dompurify/-/dompurify-3.3.1.tgz",
+      "integrity": "sha512-qkdCKzLNtrgPFP1Vo+98FRzJnBRGe4ffyCea9IwHB1fyxPOeNTHpLKYGd4Uk9xvNoH0ZoOjwZxNptyMwqrId1Q==",
+      "optional": true,
+      "optionalDependencies": {
+        "@types/trusted-types": "^2.0.7"
+      }
+    },
     "node_modules/dunder-proto": {
       "version": "1.0.1",
       "resolved": "https://registry.npmjs.org/dunder-proto/-/dunder-proto-1.0.1.tgz",
@@ -1044,6 +1126,21 @@
       "resolved": "https://registry.npmjs.org/estree-walker/-/estree-walker-2.0.2.tgz",
       "integrity": "sha512-Rfkk/Mp/DL7JVje3u18FxFujQlTNR2q6QfMSMB7AvCBx91NGj/ba3kCfza0f6dVDbw7YlRf/nDrn7pQrCCyQ/w=="
     },
+    "node_modules/fast-png": {
+      "version": "6.4.0",
+      "resolved": "https://registry.npmjs.org/fast-png/-/fast-png-6.4.0.tgz",
+      "integrity": "sha512-kAqZq1TlgBjZcLr5mcN6NP5Rv4V2f22z00c3g8vRrwkcqjerx7BEhPbOnWCPqaHUl2XWQBJQvOT/FQhdMT7X/Q==",
+      "dependencies": {
+        "@types/pako": "^2.0.3",
+        "iobuffer": "^5.3.2",
+        "pako": "^2.1.0"
+      }
+    },
+    "node_modules/fflate": {
+      "version": "0.8.2",
+      "resolved": "https://registry.npmjs.org/fflate/-/fflate-0.8.2.tgz",
+      "integrity": "sha512-cPJU47OaAoCbg0pBvzsgpTPhmhqI5eJjh/JIu8tPj5q+T7iLvW/JAYUqmE7KOB4R1ZyEhzBaIQpQpardBF5z8A=="
+    },
     "node_modules/follow-redirects": {
       "version": "1.15.11",
       "resolved": "https://registry.npmjs.org/follow-redirects/-/follow-redirects-1.15.11.tgz",
@@ -1182,6 +1279,39 @@
         "node": ">= 0.4"
       }
     },
+    "node_modules/html2canvas": {
+      "version": "1.4.1",
+      "resolved": "https://registry.npmjs.org/html2canvas/-/html2canvas-1.4.1.tgz",
+      "integrity": "sha512-fPU6BHNpsyIhr8yyMpTLLxAbkaK8ArIBcmZIRiBLiDhjeqvXolaEmDGmELFuX9I4xDcaKKcJl+TKZLqruBbmWA==",
+      "dependencies": {
+        "css-line-break": "^2.1.0",
+        "text-segmentation": "^1.0.3"
+      },
+      "engines": {
+        "node": ">=8.0.0"
+      }
+    },
+    "node_modules/iobuffer": {
+      "version": "5.4.0",
+      "resolved": "https://registry.npmjs.org/iobuffer/-/iobuffer-5.4.0.tgz",
+      "integrity": "sha512-DRebOWuqDvxunfkNJAlc3IzWIPD5xVxwUNbHr7xKB8E6aLJxIPfNX3CoMJghcFjpv6RWQsrcJbghtEwSPoJqMA=="
+    },
+    "node_modules/jspdf": {
+      "version": "4.2.0",
+      "resolved": "https://registry.npmjs.org/jspdf/-/jspdf-4.2.0.tgz",
+      "integrity": "sha512-hR/hnRevAXXlrjeqU5oahOE+Ln9ORJUB5brLHHqH67A+RBQZuFr5GkbI9XQI8OUFSEezKegsi45QRpc4bGj75Q==",
+      "dependencies": {
+        "@babel/runtime": "^7.28.6",
+        "fast-png": "^6.2.0",
+        "fflate": "^0.8.1"
+      },
+      "optionalDependencies": {
+        "canvg": "^3.0.11",
+        "core-js": "^3.6.0",
+        "dompurify": "^3.3.1",
+        "html2canvas": "^1.0.0-rc.5"
+      }
+    },
     "node_modules/magic-string": {
       "version": "0.30.21",
       "resolved": "https://registry.npmjs.org/magic-string/-/magic-string-0.30.21.tgz",
@@ -1234,6 +1364,17 @@
         "node": "^10 || ^12 || ^13.7 || ^14 || >=15.0.1"
       }
     },
+    "node_modules/pako": {
+      "version": "2.1.0",
+      "resolved": "https://registry.npmjs.org/pako/-/pako-2.1.0.tgz",
+      "integrity": "sha512-w+eufiZ1WuJYgPXbV/PO3NCMEc3xqylkKHzp8bxp1uW4qaSNQUkwmLLEc3kKsfz8lpV1F8Ht3U1Cm+9Srog2ug=="
+    },
+    "node_modules/performance-now": {
+      "version": "2.1.0",
+      "resolved": "https://registry.npmjs.org/performance-now/-/performance-now-2.1.0.tgz",
+      "integrity": "sha512-7EAHlyLHI56VEIdK57uwHdHKIaAGbnXPiw0yWbarQZOKaKpvUIgW0jWRVLiatnM+XXlSwsanIBH/hzGMJulMow==",
+      "optional": true
+    },
     "node_modules/picocolors": {
       "version": "1.1.1",
       "resolved": "https://registry.npmjs.org/picocolors/-/picocolors-1.1.1.tgz",
@@ -1271,6 +1412,30 @@
       "resolved": "https://registry.npmjs.org/proxy-from-env/-/proxy-from-env-1.1.0.tgz",
       "integrity": "sha512-D+zkORCbA9f1tdWRK0RaCR3GPv50cMxcrz4X8k5LTSUD1Dkw47mKJEZQNunItRTkWwgtaUSo1RVFRIG9ZXiFYg=="
     },
+    "node_modules/raf": {
+      "version": "3.4.1",
+      "resolved": "https://registry.npmjs.org/raf/-/raf-3.4.1.tgz",
+      "integrity": "sha512-Sq4CW4QhwOHE8ucn6J34MqtZCeWFP2aQSmrlroYgqAV1PjStIhJXxYuTgUIfkEk7zTLjmIjLmU5q+fbD1NnOJA==",
+      "optional": true,
+      "dependencies": {
+        "performance-now": "^2.1.0"
+      }
+    },
+    "node_modules/regenerator-runtime": {
+      "version": "0.13.11",
+      "resolved": "https://registry.npmjs.org/regenerator-runtime/-/regenerator-runtime-0.13.11.tgz",
+      "integrity": "sha512-kY1AZVr2Ra+t+piVaJ4gxaFaReZVH40AKNo7UCX6W+dEwBo/2oZJzqfuN1qLq1oL45o56cPaTXELwrTh8Fpggg==",
+      "optional": true
+    },
+    "node_modules/rgbcolor": {
+      "version": "1.0.1",
+      "resolved": "https://registry.npmjs.org/rgbcolor/-/rgbcolor-1.0.1.tgz",
+      "integrity": "sha512-9aZLIrhRaD97sgVhtJOW6ckOEh6/GnvQtdVNfdZ6s67+3/XwLS9lBcQYzEEhYVeUowN7pRzMLsyGhK2i/xvWbw==",
+      "optional": true,
+      "engines": {
+        "node": ">= 0.8.15"
+      }
+    },
     "node_modules/rollup": {
       "version": "4.58.0",
       "resolved": "https://registry.npmjs.org/rollup/-/rollup-4.58.0.tgz",
@@ -1323,11 +1488,45 @@
         "node": ">=0.10.0"
       }
     },
+    "node_modules/stackblur-canvas": {
+      "version": "2.7.0",
+      "resolved": "https://registry.npmjs.org/stackblur-canvas/-/stackblur-canvas-2.7.0.tgz",
+      "integrity": "sha512-yf7OENo23AGJhBriGx0QivY5JP6Y1HbrrDI6WLt6C5auYZXlQrheoY8hD4ibekFKz1HOfE48Ww8kMWMnJD/zcQ==",
+      "optional": true,
+      "engines": {
+        "node": ">=0.1.14"
+      }
+    },
+    "node_modules/svg-pathdata": {
+      "version": "6.0.3",
+      "resolved": "https://registry.npmjs.org/svg-pathdata/-/svg-pathdata-6.0.3.tgz",
+      "integrity": "sha512-qsjeeq5YjBZ5eMdFuUa4ZosMLxgr5RZ+F+Y1OrDhuOCEInRMA3x74XdBtggJcj9kOeInz0WE+LgCPDkZFlBYJw==",
+      "optional": true,
+      "engines": {
+        "node": ">=12.0.0"
+      }
+    },
+    "node_modules/text-segmentation": {
+      "version": "1.0.3",
+      "resolved": "https://registry.npmjs.org/text-segmentation/-/text-segmentation-1.0.3.tgz",
+      "integrity": "sha512-iOiPUo/BGnZ6+54OsWxZidGCsdU8YbE4PSpdPinp7DeMtUJNJBoJ/ouUSTJjHkh1KntHaltHl/gDs2FC4i5+Nw==",
+      "dependencies": {
+        "utrie": "^1.0.2"
+      }
+    },
     "node_modules/tslib": {
       "version": "2.3.0",
       "resolved": "https://registry.npmjs.org/tslib/-/tslib-2.3.0.tgz",
       "integrity": "sha512-N82ooyxVNm6h1riLCoyS9e3fuJ3AMG2zIZs2Gd1ATcSFjSA23Q0fzjjZeh0jbJvWVDZ0cJT8yaNNaaXHzueNjg=="
     },
+    "node_modules/utrie": {
+      "version": "1.0.2",
+      "resolved": "https://registry.npmjs.org/utrie/-/utrie-1.0.2.tgz",
+      "integrity": "sha512-1MLa5ouZiOmQzUbjbu9VmjLzn1QLXBhwpUa7kdLUQK+KQ5KA9I1vk5U4YHe/X2Ch7PYnJfWuWT+VbuxbGwljhw==",
+      "dependencies": {
+        "base64-arraybuffer": "^1.0.2"
+      }
+    },
     "node_modules/vite": {
       "version": "5.4.21",
       "resolved": "https://registry.npmjs.org/vite/-/vite-5.4.21.tgz",
Index: frontend/package.json
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/package.json b/frontend/package.json
--- a/frontend/package.json	(revision abb8849e19eeefdeafa9ee7a9e43ec14678cd86b)
+++ b/frontend/package.json	(revision 8ba06953ad09fca75dbc11f9d3c3d2860d611ecb)
@@ -11,6 +11,8 @@
   "dependencies": {
     "axios": "^1.13.5",
     "echarts": "^6.0.0",
+    "html2canvas": "^1.4.1",
+    "jspdf": "^4.2.0",
     "vue": "^3.5.25"
   },
   "devDependencies": {
Index: frontend/src/App.css
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/App.css b/frontend/src/App.css
--- a/frontend/src/App.css	(revision abb8849e19eeefdeafa9ee7a9e43ec14678cd86b)
+++ b/frontend/src/App.css	(revision 8ba06953ad09fca75dbc11f9d3c3d2860d611ecb)
@@ -1,46 +1,275 @@
-.app-global-wrapper { position: relative; width: 100vw; height: 100vh; overflow: hidden; font-family: 'Helvetica Neue', Arial, sans-serif; color: #2c3e50; transition: color 0.3s; }
-.app-wrapper { position: relative; z-index: 10; width: 100%; height: 100%; transition: filter 0.3s; }
-.blur-bg { filter: blur(10px); pointer-events: none; }
-.video-background { position: absolute; top: 0; left: 0; width: 100%; height: 100%; z-index: 0; background: linear-gradient(135deg, #74ebd5 0%, #9face6 100%); overflow: hidden; }
-.bg-video { width: 100%; height: 100%; object-fit: cover; display: block; }
-.bg-overlay { position: absolute; top: 0; left: 0; width: 100%; height: 100%; background: rgba(255, 255, 255, 0.2); transition: background 0.3s; }
+/* =========================================
+   å…¨å±€åŸºç¡€é…ç½®ä¸åŒ…è£¹å™¨
+========================================= */
+.app-global-wrapper { 
+    position: relative; 
+    width: 100vw; 
+    height: 100vh; 
+    overflow: hidden; 
+    font-family: 'Helvetica Neue', Arial, sans-serif; 
+    color: #2c3e50; 
+    transition: color 0.3s; 
+}
+
+.app-wrapper { 
+    position: relative; 
+    z-index: 10; 
+    width: 100%; 
+    height: 100%; 
+    transition: filter 0.3s; 
+}
+
+.blur-bg { 
+    filter: blur(10px); 
+    pointer-events: none; 
+}
+
+/* =========================================
+   åŠ¨æ€è§†é¢‘èƒŒæ™¯ç³»ç»Ÿ
+========================================= */
+.video-background { 
+    position: absolute; 
+    top: 0; 
+    left: 0; 
+    width: 100%; 
+    height: 100%; 
+    z-index: 0; 
+    background: linear-gradient(135deg, #74ebd5 0%, #9face6 100%); 
+    overflow: hidden; 
+}
+
+.bg-video { 
+    width: 100%; 
+    height: 100%; 
+    object-fit: cover; 
+    display: block; 
+}
+
+.bg-overlay { 
+    position: absolute; 
+    top: 0; 
+    left: 0; 
+    width: 100%; 
+    height: 100%; 
+    background: rgba(255, 255, 255, 0.2); 
+    transition: background 0.3s; 
+}
+
+/* =========================================
+   å…¨å±€åŠŸèƒ½æŒ‰é’®ä¸ç»„ä»¶
+========================================= */
+.theme-toggle-btn { 
+    position: fixed; 
+    bottom: 30px; 
+    right: 30px; 
+    z-index: 100; 
+    padding: 12px 20px; 
+    border-radius: 30px; 
+    border: none; 
+    font-weight: bold; 
+    cursor: pointer; 
+    background: rgba(255, 255, 255, 0.8); 
+    color: #333; 
+    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2); 
+    backdrop-filter: blur(10px); 
+    transition: transform 0.3s; 
+}
+
+.theme-toggle-btn:hover { 
+    transform: scale(1.05); 
+}
+
+.glass-btn { 
+    border: none; 
+    border-radius: 8px; 
+    font-weight: bold; 
+    cursor: pointer; 
+    transition: all 0.3s; 
+    padding: 12px;
+}
+
+.primary-btn { 
+    background: rgba(64, 158, 255, 0.9); 
+    color: white; 
+}
+
+.primary-btn:hover { 
+    background: rgba(64, 158, 255, 1); 
+    transform: translateY(-2px); 
+    box-shadow: 0 4px 12px rgba(64, 158, 255, 0.4);
+}
 
-.theme-toggle-btn { position: fixed; bottom: 30px; right: 30px; z-index: 100; padding: 12px 20px; border-radius: 30px; border: none; font-weight: bold; cursor: pointer; background: rgba(255,255,255,0.8); color: #333; box-shadow: 0 4px 15px rgba(0,0,0,0.2); backdrop-filter: blur(10px); transition: transform 0.3s; }
-.theme-toggle-btn:hover { transform: scale(1.05); }
+.secondary-btn { 
+    background: rgba(144, 147, 153, 0.8); 
+    color: white; 
+}
 
-.modal-overlay { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 999; display: flex; align-items: center; justify-content: center; background: rgba(0,0,0,0.4); backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px); animation: fadeIn 0.3s ease;}
-.modal-content { padding: 40px; text-align: center; max-width: 450px; animation: slideUp 0.3s ease; }
+.secondary-btn:hover { 
+    background: rgba(144, 147, 153, 1); 
+    transform: translateY(-2px); 
+}
 
-.glass-btn { border: none; border-radius: 8px; font-weight: bold; cursor: pointer; transition: all 0.3s; padding: 12px;}
-.primary-btn { background: rgba(64, 158, 255, 0.9); color: white; }
-.primary-btn:hover { background: rgba(64, 158, 255, 1); transform: translateY(-2px); box-shadow: 0 4px 12px rgba(64,158,255,0.4);}
-.secondary-btn { background: rgba(144, 147, 153, 0.8); color: white; }
-.secondary-btn:hover { background: rgba(144, 147, 153, 1); transform: translateY(-2px); }
+/* =========================================
+   é®ç½©å±‚ä¸æ¨¡æ€æ¡† (Modals)
+========================================= */
+.modal-overlay { 
+    position: fixed; 
+    top: 0; 
+    left: 0; 
+    width: 100vw; 
+    height: 100vh; 
+    z-index: 999; 
+    display: flex; 
+    align-items: center; 
+    justify-content: center; 
+    background: rgba(0, 0, 0, 0.4); 
+    backdrop-filter: blur(5px); 
+    -webkit-backdrop-filter: blur(5px); 
+    animation: fadeIn 0.3s ease;
+}
 
-/* ======== åœ¨çº¿ç¼–è¾‘å™¨ä¸“ç”¨æ ·å¼ ======== */
-.edit-input { width: 100%; box-sizing: border-box; background: transparent; border: none; text-align: center; font-size: 1rem; color: inherit; padding: 12px 8px; outline: none; transition: background 0.2s;}
-.edit-input:focus { background: rgba(255,255,255,0.5); }
-.head-input { font-weight: bold; color: #333; }
-.mini-del-btn { background: none; border: none; color: #888; font-weight: bold; cursor: pointer; padding: 0 5px; font-size: 1.1rem; }
-.mini-del-btn:hover { color: #f56c6c; transform: scale(1.2); }
-.dark-mode .head-input { color: #eee; }
-.dark-mode .edit-input:focus { background: rgba(0,0,0,0.3); }
+.modal-content { 
+    padding: 40px; 
+    text-align: center; 
+    max-width: 450px; 
+    animation: slideUp 0.3s ease; 
+}
 
-.welcome-screen { display: flex; align-items: center; justify-content: center; width: 100%; height: 100%; }
-.welcome-card { padding: 60px 80px; text-align: center; max-width: 700px; animation: slideUp 0.8s ease; }
-.glow-title { font-size: 2.8rem; font-weight: 800; margin-bottom: 10px; letter-spacing: 2px;}
-.subtitle { font-size: 1.2rem; margin-bottom: 30px; }
-.version { font-size: 0.9rem; margin-bottom: 40px; opacity: 0.7;}
-.enter-btn { padding: 15px 40px; font-size: 1.2rem; font-weight: bold; color: #fff; background: linear-gradient(90deg, #9b4dca, #409eff); border: none; border-radius: 30px; cursor: pointer; box-shadow: 0 4px 15px rgba(155, 77, 202, 0.4); transition: transform 0.2s, box-shadow 0.2s; }
-.enter-btn:hover { transform: translateY(-3px) scale(1.05); box-shadow: 0 8px 25px rgba(155, 77, 202, 0.6); }
+/* =========================================
+   åœ¨çº¿ç¼–è¾‘å™¨ä¸“ç”¨æ ·å¼
+========================================= */
+.edit-input { 
+    width: 100%; 
+    box-sizing: border-box; 
+    background: transparent; 
+    border: none; 
+    text-align: center; 
+    font-size: 1rem; 
+    color: inherit; 
+    padding: 12px 8px; 
+    outline: none; 
+    transition: background 0.2s;
+}
 
-.main-dashboard { display: flex; width: 100%; height: 100%; padding: 20px; gap: 20px; animation: fadeIn 0.8s ease;}
-.fade-enter-active, .fade-leave-active { transition: opacity 0.3s ease; }
-.fade-enter-from, .fade-leave-to { opacity: 0; }
-@keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
-@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
+.edit-input:focus { 
+    background: rgba(255, 255, 255, 0.5); 
+}
 
-/* æå®¢ç»ˆç«¯æ—¥å¿—é¢æ¿æ ·å¼ */
+.head-input { 
+    font-weight: bold; 
+    color: #333; 
+}
+
+.mini-del-btn { 
+    background: none; 
+    border: none; 
+    color: #888; 
+    font-weight: bold; 
+    cursor: pointer; 
+    padding: 0 5px; 
+    font-size: 1.1rem; 
+}
+
+.mini-del-btn:hover { 
+    color: #f56c6c; 
+    transform: scale(1.2); 
+}
+
+.dark-mode .head-input { 
+    color: #eee; 
+}
+
+.dark-mode .edit-input:focus { 
+    background: rgba(0, 0, 0, 0.3); 
+}
+
+/* =========================================
+   æ¬¢è¿é¡µä¸ä¸»æ§åˆ¶å°å¸ƒå±€
+========================================= */
+.welcome-screen { 
+    display: flex; 
+    align-items: center; 
+    justify-content: center; 
+    width: 100%; 
+    height: 100%; 
+}
+
+.welcome-card { 
+    padding: 60px 80px; 
+    text-align: center; 
+    max-width: 700px; 
+    animation: slideUp 0.8s ease; 
+}
+
+.glow-title { 
+    font-size: 2.8rem; 
+    font-weight: 800; 
+    margin-bottom: 10px; 
+    letter-spacing: 2px;
+}
+
+.subtitle { 
+    font-size: 1.2rem; 
+    margin-bottom: 30px; 
+}
+
+.version { 
+    font-size: 0.9rem; 
+    margin-bottom: 40px; 
+    opacity: 0.7;
+}
+
+.enter-btn { 
+    padding: 15px 40px; 
+    font-size: 1.2rem; 
+    font-weight: bold; 
+    color: #fff; 
+    background: linear-gradient(90deg, #9b4dca, #409eff); 
+    border: none; 
+    border-radius: 30px; 
+    cursor: pointer; 
+    box-shadow: 0 4px 15px rgba(155, 77, 202, 0.4); 
+    transition: transform 0.2s, box-shadow 0.2s; 
+}
+
+.enter-btn:hover { 
+    transform: translateY(-3px) scale(1.05); 
+    box-shadow: 0 8px 25px rgba(155, 77, 202, 0.6); 
+}
+
+.main-dashboard { 
+    display: flex; 
+    width: 100%; 
+    height: 100%; 
+    padding: 20px; 
+    gap: 20px; 
+    animation: fadeIn 0.8s ease;
+}
+
+/* =========================================
+   åŠ¨ç”»ä¸å…³é”®å¸§
+========================================= */
+.fade-enter-active, .fade-leave-active { 
+    transition: opacity 0.3s ease; 
+}
+
+.fade-enter-from, .fade-leave-to { 
+    opacity: 0; 
+}
+
+@keyframes slideUp { 
+    from { opacity: 0; transform: translateY(30px); } 
+    to { opacity: 1; transform: translateY(0); } 
+}
+
+@keyframes fadeIn { 
+    from { opacity: 0; } 
+    to { opacity: 1; } 
+}
+
+/* =========================================
+   æå®¢ç»ˆç«¯æ—¥å¿—é¢æ¿ç³»ç»Ÿ
+========================================= */
 .log-console-panel {
     position: fixed;
     right: 20px;
@@ -71,9 +300,16 @@
 }
 
 .close-log-btn {
-    background: none; border: none; color: #888; cursor: pointer; font-size: 1rem;
+    background: none; 
+    border: none; 
+    color: #888; 
+    cursor: pointer; 
+    font-size: 1rem;
 }
-.close-log-btn:hover { color: #fff; }
+
+.close-log-btn:hover { 
+    color: #fff; 
+}
 
 .log-body {
     flex: 1;
@@ -81,17 +317,25 @@
     overflow-y: auto;
     font-family: 'Courier New', Consolas, monospace;
     font-size: 0.85rem;
-    color: #4af626; /* é»‘å®¢ç»¿ */
+    color: #4af626;
     line-height: 1.6;
 }
 
-.log-line { margin-bottom: 4px; word-wrap: break-word; }
+.log-line { 
+    margin-bottom: 4px; 
+    word-wrap: break-word; 
+}
 
 .blinking-cursor {
     display: inline-block;
-    width: 8px; height: 12px; background: #4af626;
+    width: 8px; 
+    height: 12px; 
+    background: #4af626;
     animation: blink 1s step-end infinite;
     margin-top: 5px;
 }
-@keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
-@keyframes slideUp { from { transform: translateY(20px); opacity: 0; } to { transform: translateY(0); opacity: 1; } }
+
+@keyframes blink { 
+    0%, 100% { opacity: 1; } 
+    50% { opacity: 0; } 
+}
\ No newline at end of file
Index: frontend/src/App.vue
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/App.vue b/frontend/src/App.vue
--- a/frontend/src/App.vue	(revision abb8849e19eeefdeafa9ee7a9e43ec14678cd86b)
+++ b/frontend/src/App.vue	(revision 8ba06953ad09fca75dbc11f9d3c3d2860d611ecb)
@@ -1,16 +1,17 @@
 <script setup>
-import { store, actions } from './store.js'
 import { onMounted, watch, ref, nextTick } from 'vue'
+import { store, actions } from './store.js'
 import Sidebar from './components/Sidebar.vue'
 import DataScreen from './components/DataScreen.vue'
+
 const logContainer = ref(null);
-// ================= æ–°å¢ï¼šåˆå§‹åŒ–è‡ªåŠ¨æ·±æµ…è‰²æ¨¡å¼ =================
+
+// ================= åˆå§‹åŒ–ï¼šè‡ªåŠ¨æ·±æµ…è‰²æ¨¡å¼ =================
 onMounted(() => {
-    // è°ƒç”¨ store é‡Œçš„åˆå§‹åŒ–ä¸»é¢˜æ–¹æ³•
     actions.initTheme();
 });
 
-// ================= æ–°å¢ï¼šæ—¥å¿—è‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨ =================
+// ================= ç›‘å¬ï¼šæ—¥å¿—è‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨ =================
 watch(() => store.logs.length, async () => {
     if (store.showLogs) {
         await nextTick();
@@ -19,13 +20,13 @@
         }
     }
 });
+
+// ================= ç›‘å¬ï¼šå…¨å±€æ·±è‰²æ¨¡å¼åˆ‡æ¢ =================
 watch(() => store.isDarkMode, (newVal) => {
     if (newVal) {
-        // å¦‚æœå˜é‡å˜æˆ trueï¼Œè‡ªåŠ¨ç»™ç½‘é¡µæŒ‚è½½æš—é»‘å¤–è¡£
         document.body.classList.add('dark-mode');
         actions.addLog("ğŸ‘‰ ç•Œé¢å·²åˆ‡æ¢è‡³ã€å¤œé—´æ¨¡å¼ã€‘", "info");
     } else {
-        // å¦‚æœå˜é‡å˜æˆ falseï¼Œè‡ªåŠ¨è„±ä¸‹æš—é»‘å¤–è¡£
         document.body.classList.remove('dark-mode');
         actions.addLog("ğŸ‘‰ ç•Œé¢å·²åˆ‡æ¢è‡³ã€ç™½å¤©æ¨¡å¼ã€‘", "info");
     }
@@ -34,6 +35,7 @@
 
 <template>
   <div :class="{ 'dark-mode': store.isDarkMode }" class="app-global-wrapper">
+
     <div class="video-background">
       <video :key="store.isDarkMode ? 'dark' : 'light'" autoplay loop muted playsinline class="bg-video">
         <source :src="store.isDarkMode ? '/bg-dark.mp4' : '/bg-light.mp4'" type="video/mp4" />
@@ -55,8 +57,7 @@
 
     <div v-if="store.dialog.show" class="modal-overlay" style="z-index: 9999;">
       <div class="modal-content glass-card" style="padding: 30px 40px; min-width: 350px;">
-        <h2 style="margin-top:0; border-bottom: 1px dashed rgba(0,0,0,0.1); padding-bottom: 10px;"
-            :style="{ color: store.dialog.type === 'confirm' ? '#e6a23c' : '#409eff' }">
+        <h2 :style="{ color: store.dialog.type === 'confirm' ? '#e6a23c' : '#409eff', marginTop: 0, borderBottom: '1px dashed rgba(0,0,0,0.1)', paddingBottom: '10px' }">
           {{ store.dialog.title }}
         </h2>
         <p style="white-space: pre-wrap; line-height: 1.6; margin: 25px 0; font-size: 1.05rem;">
@@ -71,6 +72,7 @@
 
     <div v-if="store.showManualModal" class="modal-overlay" style="z-index: 2500;">
         <div class="glass-card" style="width: 80vw; max-width: 900px; height: 80vh; display: flex; flex-direction: column; padding: 25px; position: relative;">
+
             <div style="display:flex; justify-content: space-between; align-items: center; border-bottom: 2px solid rgba(0,0,0,0.1); padding-bottom: 15px; margin-bottom: 15px;">
                 <h2 style="margin:0; color:#409eff; display: flex; align-items: center; gap: 10px;">
                     ğŸ“ åœ¨çº¿è¡¨æ ¼ç¼–è¾‘å™¨ <span style="font-size: 0.9rem; color: #888; font-weight: normal;">(ç›´æ¥è¾“å…¥æ•°æ®ï¼Œæ”¯æŒè¡Œåˆ—å¢åˆ )</span>
@@ -114,13 +116,15 @@
             </div>
         </div>
     </div>
+
     <div class="app-wrapper" :class="{ 'blur-bg': store.showUploadModal || store.dialog.show || store.showManualModal }">
+
       <transition name="fade">
         <div v-if="!store.isEntered" class="welcome-screen">
           <div class="glass-card welcome-card">
             <h1 class="glow-title">DataAnalyzer Pro</h1>
             <p class="subtitle">é›†æˆç»Ÿè®¡åˆ†æä¸å¯è§†åŒ–è¡¨å•æ•°æ®å¤„ç†ç³»ç»Ÿ</p>
-            <p class="version">Version: 3.0 | åœ¨çº¿ç¼–è¾‘å™¨ç‰¹è£…ç‰ˆ</p>
+            <p class="version">Version: 3.0 | ç¨³å®šç‰ˆ</p>
             <button @click="store.isEntered = true" class="enter-btn">ğŸš€ ç‚¹å‡»è¿›å…¥ç³»ç»Ÿ</button>
           </div>
         </div>
@@ -134,6 +138,7 @@
       </transition>
     </div>
   </div>
+
   <div v-if="store.showLogs" class="log-console-panel">
       <div class="log-header">
          <span>ğŸ“Ÿ ç»ˆç«¯ç›‘æ§å° (Terminal)</span>
@@ -148,7 +153,7 @@
           </div>
           <div class="blinking-cursor">_</div>
       </div>
-    </div>
+  </div>
 </template>
 
 <style scoped src="./App.css"></style>
\ No newline at end of file
Index: frontend/src/components/DataScreen.css
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/components/DataScreen.css b/frontend/src/components/DataScreen.css
--- a/frontend/src/components/DataScreen.css	(revision abb8849e19eeefdeafa9ee7a9e43ec14678cd86b)
+++ b/frontend/src/components/DataScreen.css	(revision 8ba06953ad09fca75dbc11f9d3c3d2860d611ecb)
@@ -1,54 +1,252 @@
+/* =========================================
+   å¤§å±ä¸»å¸ƒå±€ä¸æ»šåŠ¨æ¡
+========================================= */
+.content-area {
+    flex: 1;
+    display: flex;
+    flex-direction: column;
+    gap: 20px;
+    padding-right: 5px;
+    overflow-y: auto;
+}
+
+.content-area::-webkit-scrollbar {
+    width: 8px;
+}
+
+.content-area::-webkit-scrollbar-thumb {
+    background: rgba(255, 255, 255, 0.5);
+    border-radius: 10px;
+}
+
+.empty-state {
+    flex: 1;
+    display: flex;
+    flex-direction: column;
+    align-items: center;
+    justify-content: center;
+    opacity: 0.7;
+}
+
+/* =========================================
+   é€šç”¨é¢æ¿ä¸è¡¨å¤´
+========================================= */
+.result-panel {
+    padding: 25px;
+    animation: fadeIn 0.4s ease;
+}
+
+.panel-header {
+    display: flex;
+    justify-content: space-between;
+    align-items: center;
+    border-bottom: 1px dashed rgba(0, 0, 0, 0.1);
+    margin-bottom: 15px;
+    padding-bottom: 10px;
+}
+
+.panel-title {
+    margin: 0;
+    border: none;
+    padding: 0;
+}
+
+/* =========================================
+   æ¯›ç»ç’ƒæ•°æ®è¡¨æ ¼
+========================================= */
+.table-responsive {
+    overflow-x: auto;
+    max-height: 400px;
+}
+
+.glass-table {
+    width: 100%;
+    border-collapse: collapse;
+    text-align: center;
+    font-size: 0.9rem;
+}
+
+.glass-table th,
+.glass-table td {
+    padding: 10px;
+    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
+}
+
+.glass-table th {
+    background: rgba(255, 255, 255, 0.3);
+    font-weight: bold;
+    position: sticky;
+    top: 0;
+    backdrop-filter: blur(10px);
+    z-index: 2;
+}
+
+.glass-table tr:hover {
+    background: rgba(255, 255, 255, 0.5);
+}
+
+/* =========================================
+   å›¾è¡¨å®¹å™¨ä¸ç½‘æ ¼
+========================================= */
+.chart-grid {
+    display: flex;
+    gap: 20px;
+}
+
+.chart-box {
+    flex: 1;
+    height: 350px; /* æ ¸å¿ƒä¿®å¤ï¼šç¡®ä¿ ECharts æœ‰é«˜åº¦ */
+    padding: 10px;
+    box-shadow: inset 0 0 10px rgba(0, 0, 0, 0.02);
+}
+
+/* =========================================
+   æ‹–æ‹½æ‚¬æµ®æ§åˆ¶é¢æ¿
+========================================= */
+.drag-modal {
+    position: fixed;
+    width: 300px;
+    z-index: 2000;
+    box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
+    padding: 0;
+    overflow: hidden;
+}
+
+.drag-header {
+    background: rgba(0, 0, 0, 0.05);
+    padding: 12px 15px;
+    font-weight: bold;
+    display: flex;
+    justify-content: space-between;
+    align-items: center;
+    cursor: grab;
+    border-bottom: 1px solid rgba(0, 0, 0, 0.1);
+}
+
+.drag-header:active {
+    cursor: grabbing;
+}
+
+.close-btn {
+    background: none;
+    border: none;
+    font-size: 1.2rem;
+    cursor: pointer;
+    color: #888;
+}
+
+.close-btn:hover {
+    color: #f5222d;
+}
+
+.drag-content {
+    padding: 15px;
+}
+
+/* =========================================
+   AI æ™ºèƒ½è§£è¯»æ‰“å­—æœºé¢æ¿
+========================================= */
+.ai-panel {
+    border: 2px solid rgba(179, 127, 235, 0.3);
+    background: rgba(179, 127, 235, 0.05);
+}
+
+.ai-content {
+    font-size: 1.05rem;
+    line-height: 1.8;
+    color: #555;
+    padding: 10px 0;
+}
+
+.ai-content p {
+    margin-bottom: 15px;
+}
 
-.drag-modal { position: fixed; width: 300px; z-index: 2000; box-shadow: 0 10px 30px rgba(0,0,0,0.3); padding: 0; overflow: hidden; }
-.drag-header { background: rgba(0,0,0,0.05); padding: 12px 15px; font-weight: bold; display: flex; justify-content: space-between; align-items: center; cursor: grab; border-bottom: 1px solid rgba(0,0,0,0.1); }
-.drag-header:active { cursor: grabbing; }
-.close-btn { background: none; border: none; font-size: 1.2rem; cursor: pointer; color: #888;}
-.close-btn:hover { color: #f5222d; }
-.drag-content { padding: 15px; }
+.ai-content strong {
+    color: #b37feb;
+    font-weight: bold;
+}
 
-.content-area { flex: 1; display: flex; flex-direction: column; gap: 20px; padding-right: 5px; overflow-y: auto; }
-.content-area::-webkit-scrollbar { width: 8px; }
-.content-area::-webkit-scrollbar-thumb { background: rgba(255,255,255,0.5); border-radius: 10px; }
-.empty-state { flex: 1; display: flex; flex-direction: column; align-items: center; justify-content: center; opacity: 0.7;}
-.result-panel { padding: 25px; animation: fadeIn 0.4s ease;}
-.panel-header { display: flex; justify-content: space-between; align-items: center; border-bottom: 1px dashed rgba(0,0,0,0.1); margin-bottom: 15px; padding-bottom: 10px; }
-.panel-title { margin: 0; border: none; padding: 0; }
-.export-btn { width: 120px; font-size: 0.8rem; padding: 6px 12px; }
+.cursor {
+    display: inline-block;
+    width: 2px;
+    background-color: #b37feb;
+    animation: blink 1s infinite;
+    margin-left: 5px;
+}
 
-.table-responsive { overflow-x: auto; max-height: 400px; }
-.glass-table { width: 100%; border-collapse: collapse; text-align: center; font-size:0.9rem; }
-.glass-table th, .glass-table td { padding: 10px; border-bottom: 1px solid rgba(0,0,0,0.1); }
-.glass-table th { background: rgba(255,255,255,0.3); font-weight: bold; position: sticky; top: 0; backdrop-filter: blur(10px); z-index:2;}
-.glass-table tr:hover { background: rgba(255,255,255,0.5); }
-.var-name { font-weight: bold; color: #409eff; }
+/* =========================================
+   é€šç”¨æŒ‰é’®ä¸è¡¨å•æ§ä»¶
+========================================= */
+.glass-btn {
+    border: none;
+    border-radius: 8px;
+    font-weight: bold;
+    cursor: pointer;
+    transition: all 0.3s;
+    backdrop-filter: blur(4px);
+}
 
+.primary-btn {
+    background: rgba(64, 158, 255, 0.9);
+    color: white;
+}
+
+.primary-btn:hover {
+    background: rgba(64, 158, 255, 1);
+    transform: translateY(-2px);
+}
+
+.secondary-btn {
+    background: rgba(144, 147, 153, 0.8);
+    color: white;
+}
+
+.secondary-btn:hover {
+    background: rgba(144, 147, 153, 1);
+}
+
+.export-btn {
+    width: 120px;
+    font-size: 0.8rem;
+    padding: 6px 12px;
+}
+
+.checkbox-group {
+    display: flex;
+    flex-wrap: wrap;
+    gap: 8px;
+}
+
+.checkbox-label {
+    padding: 6px 12px;
+    background: rgba(255, 255, 255, 0.6);
+    border: 1px solid rgba(0, 0, 0, 0.1);
+    border-radius: 20px;
+    font-size: 0.85rem;
+    cursor: pointer;
+    transition: border-color 0.2s;
+}
+
+.checkbox-label:hover {
+    border-color: #409eff;
+}
+
+/* =========================================
+   å·¥å…·ç±»ä¸åŠ¨ç”»
+========================================= */
 .success-text { color: #52c41a; font-weight: bold; }
 .danger-text { color: #f5222d; font-weight: bold; }
-.chart-grid { display: flex; gap: 20px; }
-
-/* ======== æ ¸å¿ƒä¿®å¤1ï¼šæŠŠ height: 350px åŠ å›æ¥äº†ï¼======== */
-.chart-box { flex: 1; height: 350px; padding: 10px; box-shadow: inset 0 0 10px rgba(0,0,0,0.02); }
-/* ======================================================= */
-
+.var-name { font-weight: bold; color: #409eff; }
 .mb-3 { margin-bottom: 15px; }
 .mt-3 { margin-top: 15px; }
 
-.glass-btn { border: none; border-radius: 8px; font-weight: bold; cursor: pointer; transition: all 0.3s; backdrop-filter: blur(4px); }
-.primary-btn { background: rgba(64, 158, 255, 0.9); color: white; }
-.primary-btn:hover { background: rgba(64, 158, 255, 1); transform: translateY(-2px); }
-.secondary-btn { background: rgba(144, 147, 153, 0.8); color: white; }
-.secondary-btn:hover { background: rgba(144, 147, 153, 1); }
-
-.checkbox-group { display: flex; flex-wrap: wrap; gap: 8px; }
-.checkbox-label { padding: 6px 12px; background: rgba(255,255,255,0.6); border: 1px solid rgba(0,0,0,0.1); border-radius: 20px; font-size: 0.85rem; cursor: pointer; transition: border-color 0.2s;}
-.checkbox-label:hover { border-color: #409eff; }
+@keyframes fadeIn {
+    from { opacity: 0; transform: translateY(10px); }
+    to { opacity: 1; transform: translateY(0); }
+}
 
-@keyframes fadeIn { from { opacity: 0; transform: translateY(10px);} to { opacity: 1; transform: translateY(0);} }
-
-/* DataScreen.css çš„æœ€ä¸‹æ–¹æ·»åŠ  */
-.ai-panel { border: 2px solid rgba(179, 127, 235, 0.3); background: rgba(179, 127, 235, 0.05); }
-.ai-content { font-size: 1.05rem; line-height: 1.8; color: #555; padding: 10px 0; }
-.ai-content p { margin-bottom: 15px; }
-.ai-content strong { color: #b37feb; font-weight: bold; }
-.cursor { display: inline-block; width: 2px; background-color: #b37feb; animation: blink 1s infinite; margin-left: 5px; }
-@keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }
\ No newline at end of file
+@keyframes blink {
+    0%, 100% { opacity: 1; }
+    50% { opacity: 0; }
+}
\ No newline at end of file
Index: frontend/src/components/DataScreen.vue
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/components/DataScreen.vue b/frontend/src/components/DataScreen.vue
--- a/frontend/src/components/DataScreen.vue	(revision abb8849e19eeefdeafa9ee7a9e43ec14678cd86b)
+++ b/frontend/src/components/DataScreen.vue	(revision 8ba06953ad09fca75dbc11f9d3c3d2860d611ecb)
@@ -2,7 +2,9 @@
 import { store, actions } from '../store.js'
 import { watch, nextTick, ref, onMounted } from 'vue'
 
-// ======== AI æ‰“å­—æœºç‰¹æ•ˆé€»è¾‘ ========
+// ==========================================
+// æ‰“å­—æœºç‰¹æ•ˆé€»è¾‘
+// ==========================================
 const typedText = ref([]);
 let typeInterval = null;
 
@@ -11,7 +13,9 @@
         typedText.value = [];
         let lineIndex = 0;
         let charIndex = 0;
+
         if (typeInterval) clearInterval(typeInterval);
+
         typeInterval = setInterval(() => {
             if (lineIndex < store.aiSummaryText.length) {
                 const currentLine = store.aiSummaryText[lineIndex];
@@ -26,30 +30,82 @@
             } else {
                 clearInterval(typeInterval);
             }
-        }, 30); // æ‰“å­—é€Ÿåº¦
+        }, 30); // æ‰“å­—é€Ÿåº¦æ§åˆ¶
     }
 });
-// ==================================
+
+// ==========================================
+// ECharts å›¾è¡¨æ¸²æŸ“ç›‘å¬å™¨
+// ==========================================
+watch(() => store.visActiveVars, async () => {
+    if(store.showCharts) {
+        await nextTick();
+        setTimeout(() => { actions.renderCharts(); }, 100);
+    }
+}, { deep: true });
+
+// ==========================================
+// æ•°æ®å¯¼å‡ºæ–¹æ³•
+// ==========================================
+const exportStats = () => {
+    actions.exportToCSV(["variable", "count", "mean", "median", "std", "min", "max"], store.statsResult, "æè¿°æ€§ç»Ÿè®¡ç»“æœ");
+};
+
+const exportTTest = () => {
+    actions.exportToCSV(["variable", "group1_name", "group1_mean", "group2_name", "group2_mean", "t_value", "p_value", "significant"], store.ttestResult, "Tæ£€éªŒç»“æœ");
+};
+
+const exportNormality = () => {
+    actions.exportToCSV(["variable", "statistic", "p_value", "is_normal"], store.advancedResult.normality, "æ­£æ€æ€§æ£€éªŒç»“æœ");
+};
+
+// ==========================================
+// æ‚¬æµ®é¢æ¿æ‹–æ‹½é€»è¾‘
+// ==========================================
+const dragX = ref(0);
+const dragY = ref(0);
+let isDragging = false, startMouseX = 0, startMouseY = 0, startPosX = 0, startPosY = 0;
+
+onMounted(() => {
+    dragX.value = Math.max(100, window.innerWidth - 350);
+    dragY.value = 150;
+});
 
-watch(() => store.visActiveVars, async () => { if(store.showCharts) { await nextTick(); setTimeout(() => { actions.renderCharts(); }, 100); } }, { deep: true });
-const exportStats = () => { actions.exportToCSV(["variable", "count", "mean", "median", "std", "min", "max"], store.statsResult, "æè¿°æ€§ç»Ÿè®¡ç»“æœ"); };
-const exportTTest = () => { actions.exportToCSV(["variable", "group1_name", "group1_mean", "group2_name", "group2_mean", "t_value", "p_value", "significant"], store.ttestResult, "Tæ£€éªŒç»“æœ"); };
-const exportNormality = () => { actions.exportToCSV(["variable", "statistic", "p_value", "is_normal"], store.advancedResult.normality, "æ­£æ€æ€§æ£€éªŒç»“æœ"); };
-const dragX = ref(0); const dragY = ref(0); let isDragging = false, startMouseX = 0, startMouseY = 0, startPosX = 0, startPosY = 0;
-onMounted(() => { dragX.value = Math.max(100, window.innerWidth - 350); dragY.value = 150; });
-const startDrag = (e) => { isDragging = true; startMouseX = e.clientX; startMouseY = e.clientY; startPosX = dragX.value; startPosY = dragY.value; document.addEventListener('mousemove', onDrag); document.addEventListener('mouseup', stopDrag); };
-const onDrag = (e) => { if(!isDragging) return; dragX.value = startPosX + (e.clientX - startMouseX); dragY.value = startPosY + (e.clientY - startMouseY); };
-const stopDrag = () => { isDragging = false; document.removeEventListener('mousemove', onDrag); document.removeEventListener('mouseup', stopDrag); };
+const startDrag = (e) => {
+    isDragging = true;
+    startMouseX = e.clientX;
+    startMouseY = e.clientY;
+    startPosX = dragX.value;
+    startPosY = dragY.value;
+    document.addEventListener('mousemove', onDrag);
+    document.addEventListener('mouseup', stopDrag);
+};
+
+const onDrag = (e) => {
+    if(!isDragging) return;
+    dragX.value = startPosX + (e.clientX - startMouseX);
+    dragY.value = startPosY + (e.clientY - startMouseY);
+};
+
+const stopDrag = () => {
+    isDragging = false;
+    document.removeEventListener('mousemove', onDrag);
+    document.removeEventListener('mouseup', stopDrag);
+};
 </script>
 
 <template>
-  <main class="content-area">
-    <div v-if="!store.showPreview && !store.showStats && !store.showCharts && !store.showAdvanced && !store.showTTest && !store.showAiSummary && !store.showRadar" class="empty-state glass-card">
-      <h2>ğŸ“Š æ•°æ®å¤§å±å°±ç»ª</h2><p>è¯·åœ¨å·¦ä¾§ç‚¹å‡»æŒ‰é’®å¼€å¯å¯¹åº”é¢æ¿</p>
+  <main class="content-area" id="pdf-report-area">
+
+    <div v-if="!store.showPreview && !store.showStats && !store.showCharts && !store.showAdvanced && !store.showTTest && !store.showAiSummary && !store.showRadar && !store.showML" class="empty-state glass-card">
+      <h2>ğŸ“Š æ•°æ®å¤§å±å°±ç»ª</h2>
+      <p>è¯·åœ¨å·¦ä¾§ç‚¹å‡»æŒ‰é’®å¼€å¯å¯¹åº”é¢æ¿</p>
     </div>
 
     <div v-if="store.showAiSummary" class="glass-card result-panel ai-panel">
-        <div class="panel-header"><h3 class="panel-title" style="color:#b37feb;">ğŸ¤– AI æ™ºèƒ½æ•°æ®è§£è¯»æŠ¥å‘Š</h3></div>
+        <div class="panel-header">
+            <h3 class="panel-title" style="color:#b37feb;">ğŸ¤– AI æ™ºèƒ½æ•°æ®è§£è¯»æŠ¥å‘Š</h3>
+        </div>
         <div class="ai-content">
             <p v-for="(line, index) in typedText" :key="index" v-html="line.replace(/\*\*(.*?)\*\*/g, '<strong>$1</strong>')"></p>
             <span class="cursor">|</span>
@@ -57,40 +113,167 @@
     </div>
 
     <div v-if="store.showRadar && store.radarResult" class="glass-card result-panel">
-        <div class="panel-header"><h3 class="panel-title" style="color:#e6a23c;">ğŸ•¸ï¸ ä¸ªä½“èƒ½åŠ›å®šä½é›·è¾¾å›¾</h3></div>
+        <div class="panel-header">
+            <h3 class="panel-title" style="color:#e6a23c;">ğŸ•¸ï¸ ä¸ªä½“èƒ½åŠ›å®šä½é›·è¾¾å›¾</h3>
+        </div>
         <div id="radar-container" class="chart-box" style="height: 500px;"></div>
     </div>
+
     <div v-show="store.showCharts && store.showVisControl" class="drag-modal glass-card" :style="{ left: dragX + 'px', top: dragY + 'px' }">
-        <div class="drag-header" @mousedown="startDrag"><span>âš™ï¸ æ§åˆ¶å›¾è¡¨æ˜¾éš</span><button @click="store.showVisControl = false" class="close-btn">âœ•</button></div>
-        <div class="drag-content"><p style="font-size:0.8rem; color:#888; margin-bottom:10px;">è¯·å‹¾é€‰éœ€è¦åœ¨å³ä¾§å¤§å±æ˜¾ç¤ºçš„å›¾è¡¨ï¼š</p><div class="checkbox-group"><label v-for="col in store.selectedVars" :key="col" class="checkbox-label" style="padding: 4px 10px;"><input type="checkbox" v-model="store.visActiveVars" :value="col" /> {{ col }}</label><label v-for="cat in store.catChartsData" :key="'cb-'+cat.variable" class="checkbox-label" style="padding: 4px 10px;"><input type="checkbox" v-model="store.visActiveVars" :value="cat.variable" /> {{ cat.variable }} (åˆ†ç±»)</label></div></div>
+        <div class="drag-header" @mousedown="startDrag">
+            <span>âš™ï¸ æ§åˆ¶å›¾è¡¨æ˜¾éš</span>
+            <button @click="store.showVisControl = false" class="close-btn">âœ•</button>
+        </div>
+        <div class="drag-content">
+            <p style="font-size:0.8rem; color:#888; margin-bottom:10px;">è¯·å‹¾é€‰éœ€è¦åœ¨å³ä¾§å¤§å±æ˜¾ç¤ºçš„å›¾è¡¨ï¼š</p>
+            <div class="checkbox-group">
+                <label v-for="col in store.selectedVars" :key="col" class="checkbox-label" style="padding: 4px 10px;">
+                    <input type="checkbox" v-model="store.visActiveVars" :value="col" /> {{ col }}
+                </label>
+            </div>
+        </div>
     </div>
 
     <div v-if="store.showPreview && store.previewData" class="glass-card result-panel">
-      <div class="panel-header"><h3 class="panel-title" style="color:#13c2c2;">ğŸ‘ï¸ æ•°æ®é¢„è§ˆ (å‰15è¡Œ)</h3></div>
-      <div class="table-responsive"><table class="glass-table"><thead><tr><th v-for="col in store.previewData.columns" :key="col">{{ col }}</th></tr></thead><tbody><tr v-for="(row, i) in store.previewData.rows" :key="i"><td v-for="col in store.previewData.columns" :key="col">{{ row[col] }}</td></tr></tbody></table></div>
+      <div class="panel-header">
+          <h3 class="panel-title" style="color:#13c2c2;">ğŸ‘ï¸ æ•°æ®é¢„è§ˆ (å‰15è¡Œ)</h3>
+      </div>
+      <div class="table-responsive">
+          <table class="glass-table">
+              <thead>
+                  <tr>
+                      <th v-for="col in store.previewData.columns" :key="col">{{ col }}</th>
+                  </tr>
+              </thead>
+              <tbody>
+                  <tr v-for="(row, i) in store.previewData.rows" :key="i">
+                      <td v-for="col in store.previewData.columns" :key="col">{{ row[col] }}</td>
+                  </tr>
+              </tbody>
+          </table>
+      </div>
     </div>
 
     <div v-if="store.showStats && store.statsResult" class="glass-card result-panel">
-      <div class="panel-header"><h3 class="panel-title">ğŸ§® æè¿°æ€§ç»Ÿè®¡ç»“æœ</h3><button @click="exportStats" class="glass-btn secondary-btn export-btn">â¬‡ï¸ å¯¼å‡º CSV</button></div>
-      <div class="table-responsive"><table class="glass-table"><thead><tr><th>å˜é‡</th><th>å‡å€¼</th><th>ä¸­ä½æ•°</th><th>æ ‡å‡†å·®</th><th>æœ€å°</th><th>æœ€å¤§</th></tr></thead><tbody><tr v-for="row in store.statsResult" :key="row.variable"><td class="var-name">{{ row.variable }}</td><td>{{ row.mean }}</td><td>{{ row.median }}</td><td>{{ row.std }}</td><td>{{ row.min }}</td><td>{{ row.max }}</td></tr></tbody></table></div>
+      <div class="panel-header">
+          <h3 class="panel-title">ğŸ§® æè¿°æ€§ç»Ÿè®¡ç»“æœ</h3>
+          <button @click="exportStats" class="glass-btn secondary-btn export-btn">â¬‡ï¸ å¯¼å‡º CSV</button>
+      </div>
+      <div class="table-responsive">
+          <table class="glass-table">
+              <thead>
+                  <tr>
+                      <th>å˜é‡</th><th>å‡å€¼</th><th>ä¸­ä½æ•°</th><th>æ ‡å‡†å·®</th><th>æœ€å°</th><th>æœ€å¤§</th>
+                  </tr>
+              </thead>
+              <tbody>
+                  <tr v-for="row in store.statsResult" :key="row.variable">
+                      <td class="var-name">{{ row.variable }}</td>
+                      <td>{{ row.mean }}</td>
+                      <td>{{ row.median }}</td>
+                      <td>{{ row.std }}</td>
+                      <td>{{ row.min }}</td>
+                      <td>{{ row.max }}</td>
+                  </tr>
+              </tbody>
+          </table>
+      </div>
     </div>
 
     <div v-if="store.showTTest && store.ttestResult" class="glass-card result-panel">
-      <div class="panel-header"><h3 class="panel-title" style="color:#ff7875;">âš–ï¸ ç‹¬ç«‹æ ·æœ¬ t æ£€éªŒ (åˆ†ç»„: {{ store.selectedGroupVar }})</h3><button @click="exportTTest" class="glass-btn secondary-btn export-btn">â¬‡ï¸ å¯¼å‡º CSV</button></div>
-      <div class="table-responsive"><table class="glass-table"><thead><tr><th>åˆ†æå˜é‡</th><th>ç»„1å‡å€¼</th><th>ç»„2å‡å€¼</th><th>t å€¼</th><th>P å€¼</th><th>ç»“è®º</th></tr></thead><tbody><tr v-for="(res, index) in store.ttestResult" :key="index"><td class="var-name">{{ res.variable }}</td><td>{{ res.group1_mean }}</td><td>{{ res.group2_mean }}</td><td>{{ res.t_value }}</td><td>{{ res.p_value }}</td><td :class="res.significant ? 'danger-text' : 'success-text'">{{ res.significant ? 'ğŸ”¥ æ˜¾è‘— (p<0.05)' : 'â– ä¸æ˜¾è‘—' }}</td></tr></tbody></table></div>
+      <div class="panel-header">
+          <h3 class="panel-title" style="color:#ff7875;">âš–ï¸ ç‹¬ç«‹æ ·æœ¬ t æ£€éªŒ (åˆ†ç»„: {{ store.selectedGroupVar }})</h3>
+          <button @click="exportTTest" class="glass-btn secondary-btn export-btn">â¬‡ï¸ å¯¼å‡º CSV</button>
+      </div>
+      <div class="table-responsive">
+          <table class="glass-table">
+              <thead>
+                  <tr>
+                      <th>åˆ†æå˜é‡</th><th>ç»„1å‡å€¼</th><th>ç»„2å‡å€¼</th><th>t å€¼</th><th>P å€¼</th><th>ç»“è®º</th>
+                  </tr>
+              </thead>
+              <tbody>
+                  <tr v-for="(res, index) in store.ttestResult" :key="index">
+                      <td class="var-name">{{ res.variable }}</td>
+                      <td>{{ res.group1_mean }}</td>
+                      <td>{{ res.group2_mean }}</td>
+                      <td>{{ res.t_value }}</td>
+                      <td>{{ res.p_value }}</td>
+                      <td :class="res.significant ? 'danger-text' : 'success-text'">
+                          {{ res.significant ? 'ğŸ”¥ æ˜¾è‘— (p<0.05)' : 'â– ä¸æ˜¾è‘—' }}
+                      </td>
+                  </tr>
+              </tbody>
+          </table>
+      </div>
     </div>
 
     <div v-show="store.showCharts" class="glass-card result-panel">
-      <div class="panel-header"><h3 class="panel-title" style="color:#69c0ff;">ğŸ“ˆ æ•°æ®åˆ†å¸ƒå¯è§†åŒ–è§†å›¾</h3><button @click="store.showVisControl = true" class="glass-btn primary-btn export-btn" style="width: 140px;">ğŸ‘€ å¼€å¯æ˜¾éšé¢æ¿</button></div>
-      <div v-if="store.visActiveVars.length === 0" style="text-align:center; padding: 40px; color:#888;">ğŸ‘ˆ æš‚æ— æ˜¾ç¤ºå›¾è¡¨ï¼Œè¯·åœ¨å³ä¸Šè§’æ˜¾éšé¢æ¿ä¸­å‹¾é€‰ã€‚</div>
-      <template v-for="(item, index) in store.chartsData" :key="'num-'+index"><div v-if="store.visActiveVars.includes(item.variable)" class="chart-grid mb-3"><div :id="'hist-' + item.variable" class="chart-box glass-inner"></div><div :id="'box-' + item.variable" class="chart-box glass-inner"></div></div></template>
+      <div class="panel-header">
+          <h3 class="panel-title" style="color:#69c0ff;">ğŸ“ˆ æ•°æ®åˆ†å¸ƒå¯è§†åŒ–è§†å›¾</h3>
+          <button @click="store.showVisControl = true" class="glass-btn primary-btn export-btn" style="width: 140px;">ğŸ‘€ å¼€å¯æ˜¾éšé¢æ¿</button>
+      </div>
+      <div v-if="store.visActiveVars.length === 0" style="text-align:center; padding: 40px; color:#888;">
+          ğŸ‘ˆ æš‚æ— æ˜¾ç¤ºå›¾è¡¨ï¼Œè¯·åœ¨å³ä¸Šè§’æ˜¾éšé¢æ¿ä¸­å‹¾é€‰ã€‚
+      </div>
+      <template v-for="(item, index) in store.chartsData" :key="'num-'+index">
+          <div v-if="store.visActiveVars.includes(item.variable)" class="chart-grid mb-3">
+              <div :id="'hist-' + item.variable" class="chart-box glass-inner"></div>
+              <div :id="'box-' + item.variable" class="chart-box glass-inner"></div>
+          </div>
+      </template>
     </div>
 
     <div v-if="store.showAdvanced && store.advancedResult" class="glass-card result-panel">
-      <div class="panel-header"><h3 class="panel-title" style="color:#b37feb;">ğŸ”¬ ç»Ÿè®¡æ£€éªŒä¸å…³è”åˆ†æ</h3><button @click="exportNormality" class="glass-btn secondary-btn export-btn">â¬‡ï¸ å¯¼å‡º CSV</button></div>
-      <table class="glass-table mb-3"><thead><tr><th>å˜é‡</th><th>W å€¼</th><th>P å€¼</th><th>Shapiro-Wilk ç»“è®º</th></tr></thead><tbody><tr v-for="(res, index) in store.advancedResult.normality" :key="index"><td class="var-name">{{ res.variable }}</td><td>{{ res.statistic }}</td><td>{{ res.p_value }}</td><td :class="res.is_normal ? 'success-text' : 'danger-text'">{{ res.is_normal ? 'âœ”ï¸ ç¬¦åˆæ­£æ€' : 'âŒ ä¸ç¬¦åˆæ­£æ€' }}</td></tr></tbody></table>
-      <div class="chart-grid"><div id="heatmap-container" class="chart-box glass-inner"></div><div id="scatter-container" class="chart-box glass-inner"></div></div>
+      <div class="panel-header">
+          <h3 class="panel-title" style="color:#b37feb;">ğŸ”¬ ç»Ÿè®¡æ£€éªŒä¸å…³è”åˆ†æ</h3>
+          <button @click="exportNormality" class="glass-btn secondary-btn export-btn">â¬‡ï¸ å¯¼å‡º CSV</button>
+      </div>
+      <table class="glass-table mb-3">
+          <thead>
+              <tr>
+                  <th>å˜é‡</th><th>W å€¼</th><th>P å€¼</th><th>Shapiro-Wilk ç»“è®º</th>
+              </tr>
+          </thead>
+          <tbody>
+              <tr v-for="(res, index) in store.advancedResult.normality" :key="index">
+                  <td class="var-name">{{ res.variable }}</td>
+                  <td>{{ res.statistic }}</td>
+                  <td>{{ res.p_value }}</td>
+                  <td :class="res.is_normal ? 'success-text' : 'danger-text'">
+                      {{ res.is_normal ? 'âœ”ï¸ ç¬¦åˆæ­£æ€' : 'âŒ ä¸ç¬¦åˆæ­£æ€' }}
+                  </td>
+              </tr>
+          </tbody>
+      </table>
+      <div class="chart-grid">
+          <div id="heatmap-container" class="chart-box glass-inner"></div>
+          <div id="scatter-container" class="chart-box glass-inner"></div>
+      </div>
+    </div>
+
+    <div v-if="store.showML" class="result-panel glass-card scale-in mt-3">
+      <h3 class="panel-title" style="color: #722ed1;">ğŸ¤– æœºå™¨å­¦ä¹ é¢„æµ‹æ¨¡å‹ (Random Forest)</h3>
+
+      <div style="display: flex; gap: 15px; margin-bottom: 20px;">
+          <div class="glass-inner" style="flex: 1; text-align: center; padding: 15px;">
+              <div style="font-size: 0.9rem; color: #888;">æ¨¡å‹æ‹Ÿåˆä¼˜åº¦ (RÂ² Score)</div>
+              <div style="font-size: 1.8rem; color: #722ed1; font-weight: bold;">{{ store.mlResult.r2 }}</div>
+              <div style="font-size: 0.75rem; color: #aaa;">è¶Šæ¥è¿‘1è¯´æ˜é¢„æµ‹è¶Šå‡†</div>
+          </div>
+          <div class="glass-inner" style="flex: 1; text-align: center; padding: 15px;">
+              <div style="font-size: 0.9rem; color: #888;">å‡æ–¹è¯¯å·® (MSE)</div>
+              <div style="font-size: 1.8rem; color: #fa8c16; font-weight: bold;">{{ store.mlResult.mse }}</div>
+              <div style="font-size: 0.75rem; color: #aaa;">é¢„æµ‹è¯¯å·®çš„å¹³å‡æ°´å¹³</div>
+          </div>
+      </div>
+
+      <div class="chart-grid">
+         <div id="ml-importance-chart" class="chart-box glass-inner" style="height: 350px;"></div>
+         <div id="ml-scatter-chart" class="chart-box glass-inner" style="height: 350px;"></div>
+      </div>
     </div>
+
   </main>
 </template>
 
Index: frontend/src/components/Sidebar.css
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/components/Sidebar.css b/frontend/src/components/Sidebar.css
--- a/frontend/src/components/Sidebar.css	(revision abb8849e19eeefdeafa9ee7a9e43ec14678cd86b)
+++ b/frontend/src/components/Sidebar.css	(revision 8ba06953ad09fca75dbc11f9d3c3d2860d611ecb)
@@ -1,34 +1,213 @@
+/* =========================================
+   ä¾§è¾¹æ ä¸»å®¹å™¨ä¸æ»šåŠ¨æ¡
+========================================= */
+.sidebar { 
+    width: 380px; 
+    flex-shrink: 0; 
+    padding: 25px; 
+    display: flex; 
+    flex-direction: column; 
+    overflow-y: auto; 
+}
+
+.sidebar::-webkit-scrollbar { 
+    width: 6px; 
+}
+
+.sidebar::-webkit-scrollbar-thumb { 
+    background: rgba(0, 0, 0, 0.2); 
+    border-radius: 10px; 
+}
+
+.sidebar-title { 
+    font-size: 1.5rem; 
+    margin-top: 0; 
+    margin-bottom: 20px; 
+    border-bottom: 2px solid rgba(0, 0, 0, 0.1); 
+    padding-bottom: 10px;
+}
+
+/* =========================================
+   æ–‡ä»¶ä¸Šä¼ åŒºåŸŸ (æ‹–æ‹½æ€ä¸æˆåŠŸæ€)
+========================================= */
+.upload-area { 
+    border: 2px dashed rgba(0, 0, 0, 0.2); 
+    border-radius: 12px; 
+    padding: 30px 10px; 
+    text-align: center; 
+    background: rgba(255, 255, 255, 0.3); 
+    transition: all 0.3s; 
+}
+
+.upload-area.is-dragging { 
+    border-color: #409eff; 
+    background: rgba(64, 158, 255, 0.1); 
+}
+
+.success-area { 
+    border-style: solid; 
+    border-color: #67c23a; 
+    background: rgba(103, 194, 58, 0.1); 
+}
+
+.upload-icon { 
+    font-size: 40px; 
+    margin-bottom: 10px; 
+}
+
+.upload-btn { 
+    display: inline-block; 
+    padding: 8px 20px; 
+    background: #409eff; 
+    color: white; 
+    border-radius: 20px; 
+    cursor: pointer; 
+    font-size: 0.9rem; 
+    margin-top: 5px;
+}
+
+.reupload-btn { 
+    background: transparent; 
+    color: #909399; 
+    border: 1px solid #909399; 
+    padding: 4px 12px; 
+    border-radius: 12px; 
+    cursor: pointer; 
+    font-size: 0.8rem; 
+    margin-top: 10px;
+}
+
+.file-name-text { 
+    font-size: 0.85rem; 
+    word-break: break-all; 
+    opacity: 0.8; 
+    margin-top: 5px;
+}
+
+/* =========================================
+   ä¾§è¾¹æ æŒ‰é’®ä¸æ“ä½œç½‘æ ¼
+========================================= */
+.glass-btn { 
+    width: 100%; 
+    padding: 10px; 
+    border: none; 
+    border-radius: 8px; 
+    font-weight: bold; 
+    cursor: pointer; 
+    transition: all 0.3s; 
+    backdrop-filter: blur(4px); 
+}
+
+.primary-btn { 
+    background: rgba(230, 162, 60, 0.9); 
+    color: white; 
+}
+
+.primary-btn:hover { 
+    background: rgba(230, 162, 60, 1); 
+    transform: translateY(-2px); 
+}
+
+.secondary-btn { 
+    background: rgba(144, 147, 153, 0.8); 
+    color: white; 
+}
+
+.secondary-btn:hover { 
+    background: rgba(144, 147, 153, 1); 
+}
+
+.cleanup-btn { 
+    background: rgba(245, 108, 108, 0.2); 
+    color: #f56c6c; 
+    border: 1px dashed #f56c6c; 
+}
+
+.cleanup-btn:hover { 
+    background: #f56c6c; 
+    color: white; 
+}
+
+.action-grid { 
+    display: grid; 
+    grid-template-columns: 1fr 1fr; 
+    gap: 10px; 
+}
+
+.action-btn { 
+    background: rgba(64, 158, 255, 0.85); 
+    color: white; 
+    border: 2px solid transparent;
+}
+
+.action-btn:hover { 
+    background: rgba(64, 158, 255, 1); 
+    transform: translateY(-2px); 
+}
+
+.danger-btn { 
+    background: rgba(245, 108, 108, 0.85); 
+}
+
+.danger-btn:hover { 
+    background: rgba(245, 108, 108, 1); 
+}
 
-.sidebar { width: 380px; flex-shrink: 0; padding: 25px; display: flex; flex-direction: column; overflow-y: auto; }
-.sidebar::-webkit-scrollbar { width: 6px; }
-.sidebar::-webkit-scrollbar-thumb { background: rgba(0,0,0,0.2); border-radius: 10px; }
-.sidebar-title { font-size: 1.5rem; margin-top: 0; margin-bottom: 20px; border-bottom: 2px solid rgba(0,0,0,0.1); padding-bottom: 10px;}
-.upload-area { border: 2px dashed rgba(0,0,0,0.2); border-radius: 12px; padding: 30px 10px; text-align: center; background: rgba(255,255,255,0.3); transition: all 0.3s; }
-.upload-area.is-dragging { border-color: #409eff; background: rgba(64,158,255,0.1); }
-.success-area { border-style: solid; border-color: #67c23a; background: rgba(103,194,58,0.1); }
-.upload-icon { font-size: 40px; margin-bottom: 10px; }
-.upload-btn { display: inline-block; padding: 8px 20px; background: #409eff; color: white; border-radius: 20px; cursor: pointer; font-size: 0.9rem; margin-top: 5px;}
-.reupload-btn { background: transparent; color: #909399; border: 1px solid #909399; padding: 4px 12px; border-radius: 12px; cursor: pointer; font-size: 0.8rem; margin-top:10px;}
-.file-name-text { font-size: 0.85rem; word-break: break-all; opacity: 0.8; margin-top: 5px;}
-.mt-2 { margin-top: 10px; } .mt-3 { margin-top: 15px; }
-.success-text { color: #52c41a; font-weight: bold; }
-.glass-btn { width: 100%; padding: 10px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; transition: all 0.3s; backdrop-filter: blur(4px); }
-.primary-btn { background: rgba(230, 162, 60, 0.9); color: white; }
-.primary-btn:hover { background: rgba(230, 162, 60, 1); transform: translateY(-2px); }
-.secondary-btn { background: rgba(144, 147, 153, 0.8); color: white; }
-.secondary-btn:hover { background: rgba(144, 147, 153, 1); }
-.cleanup-btn { background: rgba(245, 108, 108, 0.2); color: #f56c6c; border: 1px dashed #f56c6c; }
-.cleanup-btn:hover { background: #f56c6c; color: white; }
-.divider { height: 1px; background: rgba(0,0,0,0.1); margin: 15px 0; }
-h4 { margin: 0 0 10px 0; font-size: 1rem; }
-.checkbox-group { display: flex; flex-wrap: wrap; gap: 8px; }
-.checkbox-label { padding: 6px 12px; background: rgba(255,255,255,0.6); border: 1px solid rgba(0,0,0,0.1); border-radius: 20px; font-size: 0.85rem; cursor: pointer; transition: border-color 0.2s;}
-.checkbox-label:hover { border-color: #409eff; }
-.custom-select { width: 100%; padding: 8px 12px; border-radius: 8px; border: 1px solid rgba(0,0,0,0.1); background: rgba(255,255,255,0.6); outline: none; }
-.action-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
-.action-btn { background: rgba(64, 158, 255, 0.85); color: white; border: 2px solid transparent;}
-.action-btn:hover { background: rgba(64, 158, 255, 1); transform: translateY(-2px); }
-.danger-btn { background: rgba(245, 108, 108, 0.85); }
-.danger-btn:hover { background: rgba(245, 108, 108, 1); }
-.danger-btn:disabled { background: rgba(245, 108, 108, 0.4); cursor: not-allowed; transform: none;}
-.active-btn { border-color: #fff; box-shadow: 0 0 10px rgba(255,255,255,0.5); transform: translateY(-2px); }
+.danger-btn:disabled { 
+    background: rgba(245, 108, 108, 0.4); 
+    cursor: not-allowed; 
+    transform: none;
+}
+
+.active-btn { 
+    border-color: #fff; 
+    box-shadow: 0 0 10px rgba(255, 255, 255, 0.5); 
+    transform: translateY(-2px); 
+}
+
+/* =========================================
+   è¡¨å•æ§ä»¶ä¸å·¥å…·ç±»
+========================================= */
+.checkbox-group { 
+    display: flex; 
+    flex-wrap: wrap; 
+    gap: 8px; 
+}
+
+.checkbox-label { 
+    padding: 6px 12px; 
+    background: rgba(255, 255, 255, 0.6); 
+    border: 1px solid rgba(0, 0, 0, 0.1); 
+    border-radius: 20px; 
+    font-size: 0.85rem; 
+    cursor: pointer; 
+    transition: border-color 0.2s;
+}
+
+.checkbox-label:hover { 
+    border-color: #409eff; 
+}
+
+.custom-select { 
+    width: 100%; 
+    padding: 8px 12px; 
+    border-radius: 8px; 
+    border: 1px solid rgba(0, 0, 0, 0.1); 
+    background: rgba(255, 255, 255, 0.6); 
+    outline: none; 
+}
+
+.divider { 
+    height: 1px; 
+    background: rgba(0, 0, 0, 0.1); 
+    margin: 15px 0; 
+}
+
+h4 { 
+    margin: 0 0 10px 0; 
+    font-size: 1rem; 
+}
+
+.mt-2 { margin-top: 10px; } 
+.mt-3 { margin-top: 15px; }
+.success-text { color: #52c41a; font-weight: bold; }
\ No newline at end of file
Index: frontend/src/components/Sidebar.vue
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/components/Sidebar.vue b/frontend/src/components/Sidebar.vue
--- a/frontend/src/components/Sidebar.vue	(revision abb8849e19eeefdeafa9ee7a9e43ec14678cd86b)
+++ b/frontend/src/components/Sidebar.vue	(revision 8ba06953ad09fca75dbc11f9d3c3d2860d611ecb)
@@ -8,13 +8,17 @@
 
     <div v-if="!store.fileInfo">
         <div class="upload-area" :class="{ 'is-dragging': store.isDragging }" @dragover.prevent="store.isDragging=true" @dragleave.prevent="store.isDragging=false" @drop.prevent="actions.handleDrop">
-          <div class="upload-icon">ğŸ“</div><p>æ‹–æ‹½æ–‡ä»¶è‡³æ­¤</p>
+          <div class="upload-icon">ğŸ“</div>
+          <p>æ‹–æ‹½æ–‡ä»¶è‡³æ­¤</p>
           <input type="file" id="file-upload" accept=".csv, .xls, .xlsx" @change="actions.handleFileSelect" style="display: none;">
           <label for="file-upload" class="upload-btn">é€‰æ‹©æœ¬åœ°æ–‡ä»¶</label>
         </div>
+
         <div style="text-align: center; margin-top: 15px;">
             <div style="display: flex; align-items: center; justify-content: center; color: #888; font-size: 0.8rem; margin-bottom: 15px;">
-               <span style="flex:1; height:1px; background:rgba(0,0,0,0.1);"></span><span style="padding: 0 10px;">æˆ–</span><span style="flex:1; height:1px; background:rgba(0,0,0,0.1);"></span>
+               <span style="flex:1; height:1px; background:rgba(0,0,0,0.1);"></span>
+               <span style="padding: 0 10px;">æˆ–</span>
+               <span style="flex:1; height:1px; background:rgba(0,0,0,0.1);"></span>
             </div>
             <button @click="actions.openManualEditor" class="glass-btn secondary-btn" style="width: 100%; border: 1px dashed #409eff; color: #409eff; background: rgba(64,158,255,0.05);">âœï¸ åœ¨çº¿åˆ›å»ºè¡¨æ ¼æ•°æ®</button>
         </div>
@@ -28,6 +32,7 @@
     </div>
 
     <div v-if="store.fileInfo" class="config-panel">
+
       <div class="action-grid mt-3">
         <button @click="actions.togglePreview" class="glass-btn secondary-btn">{{ store.showPreview ? 'æ”¶èµ·é¢„è§ˆ' : 'ğŸ‘ï¸ é¢„è§ˆæ•°æ®' }}</button>
         <button v-if="!store.cleanResult" @click="actions.triggerDataCleaning" class="glass-btn primary-btn">âœ¨ æ™ºèƒ½æ¸…æ´—</button>
@@ -35,6 +40,19 @@
       </div>
 
       <div v-if="store.cleanResult" class="steps-container mt-3">
+
+        <div class="std-section" v-if="!store.isMasked" style="margin-bottom: 10px;">
+          <button @click="actions.triggerMasking" class="glass-btn secondary-btn" style="border-color: #faad14; color: #faad14; background: rgba(250, 173, 20, 0.05);">
+            ğŸ” å¯åŠ¨éšç§æ•°æ®è„±æ•
+          </button>
+        </div>
+        <div class="std-section" v-else style="margin-bottom: 10px; display: flex; justify-content: space-between; align-items: center; background: rgba(250, 173, 20, 0.1); padding: 10px; border-radius: 8px; border: 1px solid rgba(250, 173, 20, 0.5);">
+          <span class="success-text" style="color: #faad14; font-size: 0.9rem;">ğŸ”’ å·²å¼€å¯éšç§è„±æ•</span>
+          <button @click="actions.undoMasking" class="glass-btn danger-btn" style="width: auto; padding: 4px 10px; font-size: 0.8rem; border: none; background: rgba(255, 77, 79, 0.1); color: #ff4d4f;">
+            ğŸ”“ è§£é™¤
+          </button>
+        </div>
+
         <div class="std-section" v-if="!store.isStandardized">
           <button @click="actions.triggerStandardization" class="glass-btn secondary-btn">âš™ï¸ Z-score æ ‡å‡†åŒ–</button>
         </div>
@@ -65,13 +83,36 @@
           <button @click="actions.runTTest" class="glass-btn action-btn danger-btn" :class="{'active-btn': store.showTTest}" :disabled="!store.selectedGroupVar">âš–ï¸ t æ£€éªŒ</button>
         </div>
 
+        <div class="divider" style="margin-top: 25px;"></div>
+        <h4 style="color: #722ed1; display: flex; align-items: center; gap: 5px;">
+          <span style="font-size: 1.2rem;">ğŸ¤–</span> æœºå™¨å­¦ä¹ é¢„æµ‹å¼•æ“ï¼š
+        </h4>
+        <div style="margin-bottom: 10px;">
+            <label style="font-size: 0.85rem; color: #888;">ç›®æ ‡å˜é‡ (é¢„æµ‹è°)ï¼š</label>
+            <select v-model="store.mlTargetVar" class="custom-select" style="margin-top: 5px;">
+                <option value="">è¯·é€‰æ‹©ç›®æ ‡(Y)</option>
+                <option v-for="col in store.fileInfo.numeric_columns" :key="col" :value="col">{{ col }}</option>
+            </select>
+        </div>
+        <div style="margin-bottom: 10px;">
+            <label style="font-size: 0.85rem; color: #888;">ç‰¹å¾å˜é‡ (å½±å“å› ç´ )ï¼š</label>
+            <div class="checkbox-group" style="margin-top: 5px; max-height: 100px; overflow-y: auto;">
+              <label v-for="col in store.fileInfo.numeric_columns" :key="'ml-'+col" class="checkbox-label">
+                <input type="checkbox" :value="col" v-model="store.mlFeatureVars" :disabled="col === store.mlTargetVar">
+                <span :style="{ color: col === store.mlTargetVar ? '#ccc' : 'inherit' }">{{ col }}</span>
+              </label>
+            </div>
+        </div>
+        <button @click="actions.runMachineLearning" class="glass-btn action-btn" style="background: #722ed1; color: white;" :class="{'active-btn': store.showML}">
+          {{ store.showML ? 'âš¡ æ”¶èµ·é¢„æµ‹é¢æ¿' : 'âš¡ è®­ç»ƒéšæœºæ£®æ—æ¨¡å‹' }}
+        </button>
+
         <div class="divider" style="margin-top: 25px;"></div>
         <h4 style="color: #b37feb; display: flex; align-items: center; gap: 5px;">
           <span style="font-size: 1.2rem;">âœ¨</span> é«˜é˜¶æ™ºèƒ½ç”»åƒï¼š
         </h4>
-
         <button @click="actions.runAiSummary" class="glass-btn" style="background: linear-gradient(90deg, #b37feb, #ff85c0); color: white; margin-bottom: 15px;" :class="{'active-btn': store.showAiSummary}">
-          {{ store.showAiSummary ? 'ğŸ¤– éšè— AI è§£è¯»' : 'ğŸ¤– AI æ™ºèƒ½æ•°æ®è§£è¯»' }}
+          {{ store.showAiSummary ? 'ğŸ¤– éšè—è§£è¯»' : 'ğŸ¤– æ™ºèƒ½æ•°æ®è§£è¯»' }}
         </button>
 
         <h4 class="mt-2">ä¸ªä½“é›·è¾¾å›¾å®šä½ï¼š</h4>
@@ -88,18 +129,21 @@
         <button @click="actions.runRadarChart" class="glass-btn action-btn" style="background: #e6a23c; color: white;" :class="{'active-btn': store.showRadar}" :disabled="!store.selectedRadarTarget">
           {{ store.showRadar ? 'ğŸ•¸ï¸ æ”¶èµ·é›·è¾¾å›¾' : 'ğŸ•¸ï¸ ç”Ÿæˆé›·è¾¾å›¾' }}
         </button>
-        </div>
-    </div>
-    <div style="flex-grow: 1;"></div>
 
+        <div class="divider" style="margin-top: 25px;"></div>
+        <h4 style="color: #ff4d4f; display: flex; align-items: center; gap: 5px;">
+          <span style="font-size: 1.2rem;">ğŸ“¸</span> PDFæ•°æ®æŠ¥æˆªå›¾ï¼š
+        </h4>
+        <button @click="actions.exportPDF" class="glass-btn" style="background: linear-gradient(90deg, #ff7a45, #ff4d4f); color: white; margin-bottom: 15px; font-weight: bold; border: none; box-shadow: 0 4px 15px rgba(255, 77, 79, 0.4);">
+          â¬‡ï¸ ä¸€é”®å¯¼å‡ºé«˜æ¸… PDF æ•°æ®æŠ¥
+        </button>
+
+      </div> </div> <div style="flex-grow: 1;"></div>
     <button @click="actions.triggerCleanup" class="glass-btn cleanup-btn mt-3">ğŸ§¹ ä¸€é”®æ¸…ç†ç³»ç»Ÿç¼“å­˜</button>
     <button @click="store.showLogs = !store.showLogs" class="glass-btn secondary-btn mt-3" style="width: 100%; border: 1px solid #52c41a; color: #52c41a; background: rgba(82,196,26,0.05);">
         {{ store.showLogs ? 'ğŸ“Ÿ æ”¶èµ·ç³»ç»Ÿæ“ä½œæ—¥å¿—' : 'ğŸ“Ÿ å±•å¼€ç³»ç»Ÿæ“ä½œæ—¥å¿—' }}
     </button>
-
   </aside>
-
 </template>
 
-
 <style scoped src="./Sidebar.css"></style>
\ No newline at end of file
Index: frontend/src/store.js
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/store.js b/frontend/src/store.js
--- a/frontend/src/store.js	(revision abb8849e19eeefdeafa9ee7a9e43ec14678cd86b)
+++ b/frontend/src/store.js	(revision 8ba06953ad09fca75dbc11f9d3c3d2860d611ecb)
@@ -1,185 +1,758 @@
 import { reactive, nextTick } from 'vue'
 import axios from 'axios'
 import * as echarts from 'echarts'
+import html2canvas from 'html2canvas'
+import { jsPDF } from 'jspdf'
 
+// ==========================================
+// å…¨å±€çŠ¶æ€ç®¡ç† (Store)
+// ==========================================
 export const store = reactive({
-  isEntered: false, isDarkMode: false, showUploadModal: false, uploadedFileName: '',
-  showPreview: false, showStats: false, showCharts: false, showAdvanced: false, showTTest: false,
-  isDragging: false, fileInfo: null, cleanResult: null, selectedVars: [], isStandardized: false, currentDataFile: '', selectedGroupVar: '',
-  previewData: null, statsResult: null, ttestResult: null, chartsData: [], // å½»åº•ç§»é™¤äº† catChartsData
-  showVisControl: false, visActiveVars: [], advancedResult: null,
-  dialog: { show: false, title: '', message: '', type: 'alert', onConfirm: null },
-  showManualModal: false, manualGrid: [],
-  showAiSummary: false, aiSummaryText: [], showRadar: false, radarIdCol: '', radarOptions: [], selectedRadarTarget: '', radarResult: null,
+    // ç³»ç»Ÿæ ¸å¿ƒçŠ¶æ€
+    isEntered: false,
+    isDarkMode: false,
+
+    // æ–‡ä»¶ä¸åŸºç¡€æ•°æ®
+    showUploadModal: false,
+    uploadedFileName: '',
+    isDragging: false,
+    fileInfo: null,
+    currentDataFile: '',
+    selectedGroupVar: '',
+    selectedVars: [],
+
+    // UI æ§åˆ¶å¼€å…³
+    showPreview: false,
+    showStats: false,
+    showCharts: false,
+    showAdvanced: false,
+    showTTest: false,
+    showVisControl: false,
+
+    // æ•°æ®å¤„ç†ç»“æœç¼“å­˜
+    cleanResult: null,
+    isStandardized: false,
+    previewData: null,
+    statsResult: null,
+    ttestResult: null,
+    chartsData: [],
+    visActiveVars: [],
+    advancedResult: null,
+
+    // å¼¹çª—ä¸äº¤äº’çŠ¶æ€
+    dialog: { show: false, title: '', message: '', type: 'alert', onConfirm: null },
+
+    // åœ¨çº¿è¡¨æ ¼ç¼–è¾‘å™¨
+    showManualModal: false,
+    manualGrid: [],
+
+    // AI ä¸é›·è¾¾å›¾
+    showAiSummary: false,
+    aiSummaryText: [],
+    showRadar: false,
+    radarIdCol: '',
+    radarOptions: [],
+    selectedRadarTarget: '',
+    radarResult: null,
+
+    // æœºå™¨å­¦ä¹ æ¨¡å‹
+    mlTargetVar: '',
+    mlFeatureVars: [],
+    mlResult: null,
+    showML: false,
 
-  // ======== å…¨æ–°ï¼šæå®¢æ—¥å¿—ç³»ç»Ÿ ========
-  showLogs: false,
-  logs: []
-})
+    // å®‰å…¨ä¸è„±æ•åè®®
+    isMasked: false,
+    preMaskedFile: '',
+
+    // æå®¢æ—¥å¿—ç³»ç»Ÿ
+    showLogs: false,
+    logs: []
+});
 
+// ==========================================
+// æ ¸å¿ƒä¸šåŠ¡è¡Œä¸º (Actions)
+// ==========================================
 export const actions = {
-  // ======== å…¨æ–°ï¼šå†™æ—¥å¿—æ–¹æ³• ========
-  addLog(msg, type = 'info') {
-      const time = new Date().toLocaleTimeString();
-      const prefix = type === 'error' ? 'âŒ [ERROR]' : type === 'success' ? 'âœ… [SUCCESS]' : 'âš¡ [SYSTEM]';
-      store.logs.push(`[${time}] ${prefix} ${msg}`);
-      // ä¿æŒæ—¥å¿—ä¸è¶…è¿‡ 50 æ¡ï¼Œé˜²æ­¢å†…å­˜æº¢å‡º
-      if (store.logs.length > 50) store.logs.shift();
-      // è‡ªåŠ¨æ»šåŠ¨åˆ°åº•éƒ¨çš„é€»è¾‘åœ¨ç»„ä»¶é‡Œå®ç°
-  },
+
+    /**
+     * ç³»ç»Ÿæ—¥å¿—å†™å…¥å·¥å…·
+     */
+    addLog(msg, type = 'info') {
+        const time = new Date().toLocaleTimeString();
+        const prefix = type === 'error' ? 'âŒ [ERROR]' : type === 'success' ? 'âœ… [SUCCESS]' : 'âš¡ [SYSTEM]';
+        store.logs.push(`[${time}] ${prefix} ${msg}`);
+        if (store.logs.length > 50) store.logs.shift();
+    },
 
-  // ======== å…¨æ–°ï¼šåˆå§‹åŒ–è‡ªåŠ¨æ·±æµ…è‰²æ¨¡å¼ ========
-  initTheme() {
-      const hour = new Date().getHours();
-      // æ™šä¸Š 18 ç‚¹åˆ°æ—©ä¸Š 6 ç‚¹è‡ªåŠ¨å¼€å¯æš—é»‘æ¨¡å¼
-      if (hour >= 18 || hour < 6) {
-          store.isDarkMode = true;
-          document.body.classList.add('dark-mode');
-          actions.addLog("å·²æ ¹æ®å½“å‰æ—¶é—´è‡ªåŠ¨åˆ‡æ¢è‡³ã€å¤œé—´æ¨¡å¼ã€‘", "info");
-      } else {
-          store.isDarkMode = false;
-          document.body.classList.remove('dark-mode');
-          actions.addLog("å·²æ ¹æ®å½“å‰æ—¶é—´è‡ªåŠ¨åˆ‡æ¢è‡³ã€ç™½å¤©æ¨¡å¼ã€‘", "info");
-      }
-  },
+    /**
+     * æ ¹æ®æ—¶é—´è‡ªåŠ¨åˆå§‹åŒ–æ—¥å¤œé—´ä¸»é¢˜
+     */
+    initTheme() {
+        const hour = new Date().getHours();
+        if (hour >= 18 || hour < 6) {
+            store.isDarkMode = true;
+            document.body.classList.add('dark-mode');
+            actions.addLog("å·²æ ¹æ®å½“å‰æ—¶é—´è‡ªåŠ¨åˆ‡æ¢è‡³ã€å¤œé—´æ¨¡å¼ã€‘", "info");
+        } else {
+            store.isDarkMode = false;
+            document.body.classList.remove('dark-mode');
+            actions.addLog("å·²æ ¹æ®å½“å‰æ—¶é—´è‡ªåŠ¨åˆ‡æ¢è‡³ã€ç™½å¤©æ¨¡å¼ã€‘", "info");
+        }
+    },
 
-  showDialog(options) {
-    store.dialog.title = options.title || 'æç¤º'; store.dialog.message = options.message || '';
-    store.dialog.type = options.type || 'alert';
-    store.dialog.onConfirm = () => { if (options.onConfirm) options.onConfirm(); store.dialog.show = false; };
-    store.dialog.show = true;
-  },
+    /**
+     * å…¨å±€å¯¹è¯æ¡†è§¦å‘å™¨
+     */
+    showDialog(options) {
+        store.dialog.title = options.title || 'æç¤º';
+        store.dialog.message = options.message || '';
+        store.dialog.type = options.type || 'alert';
+        store.dialog.onConfirm = () => {
+            if (options.onConfirm) options.onConfirm();
+            store.dialog.show = false;
+        };
+        store.dialog.show = true;
+    },
 
-  handleDrop(e) { store.isDragging = false; const files = e.dataTransfer.files; if (files.length > 0) actions.uploadFile(files[0]); },
-  handleFileSelect(e) { const files = e.target.files; if (files.length > 0) actions.uploadFile(files[0]); },
+    // ------------------- æ–‡ä»¶ä¸æ•°æ®æºç®¡ç† -------------------
+
+    handleDrop(e) {
+        store.isDragging = false;
+        const files = e.dataTransfer.files;
+        if (files.length > 0) actions.uploadFile(files[0]);
+    },
+
+    handleFileSelect(e) {
+        const files = e.target.files;
+        if (files.length > 0) actions.uploadFile(files[0]);
+    },
 
-  resetSystemState() {
-    store.fileInfo = null; store.cleanResult = null; store.statsResult = null; store.chartsData = []; store.advancedResult = null; store.isStandardized = false; store.ttestResult = null; store.selectedGroupVar = ''; store.previewData = null;
-    store.showPreview = false; store.showStats = false; store.showCharts = false; store.showAdvanced = false; store.showTTest = false; store.showVisControl = false;
-    store.showAiSummary = false; store.aiSummaryText = []; store.showRadar = false; store.radarIdCol = ''; store.radarOptions = []; store.selectedRadarTarget = ''; store.radarResult = null;
-  },
+    resetSystemState() {
+        store.fileInfo = null;
+        store.cleanResult = null;
+        store.statsResult = null;
+        store.chartsData = [];
+        store.advancedResult = null;
+        store.isStandardized = false;
+        store.ttestResult = null;
+        store.selectedGroupVar = '';
+        store.previewData = null;
+        store.showPreview = false;
+        store.showStats = false;
+        store.showCharts = false;
+        store.showAdvanced = false;
+        store.showTTest = false;
+        store.showVisControl = false;
+        store.showAiSummary = false;
+        store.aiSummaryText = [];
+        store.showRadar = false;
+        store.radarIdCol = '';
+        store.radarOptions = [];
+        store.selectedRadarTarget = '';
+        store.radarResult = null;
+        store.isMasked = false;
+    },
 
-  async uploadFile(file) {
-    actions.resetSystemState();
-    actions.addLog(`å¼€å§‹è¯»å–æ–‡ä»¶: ${file.name}...`);
-    const formData = new FormData(); formData.append('file', file);
-    try {
-      const res = await axios.post('http://127.0.0.1:5000/api/upload', formData);
-      if(res.data.status === 'success') {
-        store.fileInfo = res.data.data; store.uploadedFileName = res.data.data.original_filename; store.currentDataFile = res.data.data.filename; store.selectedVars = [...res.data.data.numeric_columns];
-        if (res.data.data.binary_columns.length > 0) store.selectedGroupVar = res.data.data.binary_columns[0];
-        store.showUploadModal = true;
-        actions.addLog(`æ–‡ä»¶è¯»å–å®Œæˆï¼è¯†åˆ«å‡º ${store.fileInfo.row_count} è¡Œæ•°æ®ï¼Œ${store.fileInfo.numeric_columns.length} ä¸ªåˆ†æå˜é‡ã€‚`, "success");
-      }
-    } catch (err) { actions.addLog(`æ–‡ä»¶è§£æå¤±è´¥: ${err.message}`, "error"); actions.showDialog({ title: 'âŒ ä¸Šä¼ å¤±è´¥', message: 'æ–‡ä»¶è§£æå¤±è´¥ã€‚' }); }
-  },
+    async uploadFile(file) {
+        actions.resetSystemState();
+        actions.addLog(`å¼€å§‹è¯»å–æ–‡ä»¶: ${file.name}...`);
+        const formData = new FormData();
+        formData.append('file', file);
+
+        try {
+            const res = await axios.post('http://127.0.0.1:5000/api/upload', formData);
+            if (res.data.status === 'success') {
+                store.fileInfo = res.data.data;
+                store.uploadedFileName = res.data.data.original_filename;
+                store.currentDataFile = res.data.data.filename;
+                store.selectedVars = [...res.data.data.numeric_columns];
+                if (res.data.data.binary_columns.length > 0) {
+                    store.selectedGroupVar = res.data.data.binary_columns[0];
+                }
+                store.showUploadModal = true;
+                actions.addLog(`æ–‡ä»¶è¯»å–å®Œæˆï¼è¯†åˆ«å‡º ${store.fileInfo.row_count} è¡Œæ•°æ®ï¼Œ${store.fileInfo.numeric_columns.length} ä¸ªåˆ†æå˜é‡ã€‚`, "success");
+            }
+        } catch (err) {
+            actions.addLog(`æ–‡ä»¶è§£æå¤±è´¥: ${err.message}`, "error");
+            actions.showDialog({ title: 'âŒ ä¸Šä¼ å¤±è´¥', message: 'æ–‡ä»¶è§£æå¤±è´¥ã€‚' });
+        }
+    },
+
+    // ------------------- åœ¨çº¿è¡¨æ ¼ç¼–è¾‘å™¨ -------------------
+
+    openManualEditor() {
+        store.manualGrid = [
+            ['å§“å', 'æ•°å­¦', 'è‹±è¯­', 'æ€§åˆ«'],
+            ['å¼ ä¸‰', '85', '78', 'ç”·'],
+            ['æå››', '92', '88', 'å¥³'],
+            ['ç‹äº”', '60', '75', 'ç”·']
+        ];
+        store.showManualModal = true;
+    },
+
+    addGridRow() {
+        const cols = store.manualGrid[0].length;
+        store.manualGrid.push(new Array(cols).fill(''));
+    },
 
-  openManualEditor() { store.manualGrid = [['å§“å', 'æ•°å­¦', 'è‹±è¯­', 'æ€§åˆ«'],['å¼ ä¸‰', '85', '78', 'ç”·'],['æå››', '92', '88', 'å¥³'],['ç‹äº”', '60', '75', 'ç”·']]; store.showManualModal = true; },
-  addGridRow() { const cols = store.manualGrid[0].length; store.manualGrid.push(new Array(cols).fill('')); },
-  addGridCol() { const newColName = `æ–°å˜é‡${store.manualGrid[0].length + 1}`; store.manualGrid[0].push(newColName); for(let i=1; i<store.manualGrid.length; i++) { store.manualGrid[i].push(''); } },
-  removeGridRow(idx) { if(store.manualGrid.length > 2) store.manualGrid.splice(idx, 1); },
-  removeGridCol(idx) { if(store.manualGrid[0].length > 1) store.manualGrid.forEach(row => row.splice(idx, 1)); },
-  async submitManualGrid() {
-      if(store.manualGrid.length < 2) return actions.showDialog({ title: 'æç¤º', message: 'è¯·è‡³å°‘è¾“å…¥ä¸€è¡Œæ•°æ®ï¼' });
-      actions.resetSystemState();
-      actions.addLog("å¼€å§‹æäº¤åœ¨çº¿è¡¨æ ¼æ•°æ®...");
-      try {
-          const res = await axios.post('http://127.0.0.1:5000/api/upload_manual', { grid: store.manualGrid });
-          if(res.data.status === 'success') {
-              store.fileInfo = res.data.data; store.uploadedFileName = res.data.data.original_filename; store.currentDataFile = res.data.data.filename; store.selectedVars = [...res.data.data.numeric_columns];
-              if (res.data.data.binary_columns.length > 0) store.selectedGroupVar = res.data.data.binary_columns[0];
-              store.showManualModal = false; store.showUploadModal = true;
-              actions.addLog("åœ¨çº¿è¡¨æ ¼æ„å»ºæˆåŠŸå¹¶å·²å­˜å…¥ç¼“å­˜ï¼", "success");
-          }
-      } catch(err) {
-          actions.addLog("è¡¨æ ¼æäº¤å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ•°æ®æ ¼å¼ã€‚", "error");
-          const errMsg = err.response?.data?.message || 'åç«¯æœåŠ¡å¼‚å¸¸'; actions.showDialog({ title: 'âŒ æäº¤å¤±è´¥', message: errMsg });
-      }
-  },
+    addGridCol() {
+        const newColName = `æ–°å˜é‡${store.manualGrid[0].length + 1}`;
+        store.manualGrid[0].push(newColName);
+        for (let i = 1; i < store.manualGrid.length; i++) {
+            store.manualGrid[i].push('');
+        }
+    },
+
+    removeGridRow(idx) {
+        if (store.manualGrid.length > 2) store.manualGrid.splice(idx, 1);
+    },
+
+    removeGridCol(idx) {
+        if (store.manualGrid[0].length > 1) {
+            store.manualGrid.forEach(row => row.splice(idx, 1));
+        }
+    },
+
+    async submitManualGrid() {
+        if (store.manualGrid.length < 2) {
+            return actions.showDialog({ title: 'æç¤º', message: 'è¯·è‡³å°‘è¾“å…¥ä¸€è¡Œæ•°æ®ï¼' });
+        }
+        actions.resetSystemState();
+        actions.addLog("å¼€å§‹æäº¤åœ¨çº¿è¡¨æ ¼æ•°æ®...");
+
+        try {
+            const res = await axios.post('http://127.0.0.1:5000/api/upload_manual', { grid: store.manualGrid });
+            if (res.data.status === 'success') {
+                store.fileInfo = res.data.data;
+                store.uploadedFileName = res.data.data.original_filename;
+                store.currentDataFile = res.data.data.filename;
+                store.selectedVars = [...res.data.data.numeric_columns];
+                if (res.data.data.binary_columns.length > 0) {
+                    store.selectedGroupVar = res.data.data.binary_columns[0];
+                }
+                store.showManualModal = false;
+                store.showUploadModal = true;
+                actions.addLog("åœ¨çº¿è¡¨æ ¼æ„å»ºæˆåŠŸå¹¶å·²å­˜å…¥ç¼“å­˜ï¼", "success");
+            }
+        } catch(err) {
+            actions.addLog("è¡¨æ ¼æäº¤å¤±è´¥ï¼Œè¯·æ£€æŸ¥æ•°æ®æ ¼å¼ã€‚", "error");
+            const errMsg = err.response?.data?.message || 'åç«¯æœåŠ¡å¼‚å¸¸';
+            actions.showDialog({ title: 'âŒ æäº¤å¤±è´¥', message: errMsg });
+        }
+    },
+
+    // ------------------- æ•°æ®æ¸…æ´—ä¸é¢„å¤„ç† -------------------
+
+    async togglePreview() {
+        if (store.showPreview) {
+            store.showPreview = false;
+            return;
+        }
+        actions.addLog("æ­£åœ¨æ‹‰å–æ•°æ®é¢„è§ˆ...");
+        try {
+            const res = await axios.post('http://127.0.0.1:5000/api/preview', { filename: store.currentDataFile });
+            if (res.data.status === 'success') {
+                store.previewData = res.data.data;
+                store.showPreview = true;
+                actions.addLog("é¢„è§ˆæ•°æ®åŠ è½½å®Œæ¯•");
+            }
+        } catch (err) {}
+    },
+
+    exportToCSV(headers, rows, exportFilename) {
+        actions.addLog(`æ­£åœ¨å¯¼å‡ºæ–‡ä»¶: ${exportFilename}.csv`, "success");
+        let csvContent = "data:text/csv;charset=utf-8,\uFEFF" + headers.join(",") + "\r\n";
+        rows.forEach(row => {
+            csvContent += headers.map(h => row[h] !== undefined ? row[h] : "").join(",") + "\r\n";
+        });
+        const link = document.createElement("a");
+        link.setAttribute("href", encodeURI(csvContent));
+        link.setAttribute("download", exportFilename + ".csv");
+        document.body.appendChild(link);
+        link.click();
+    },
+
+    async triggerDataCleaning() {
+        actions.addLog("æ­£åœ¨æ‰§è¡Œå…¨è‡ªåŠ¨æ•°æ®æ¸…æ´—...");
+        try {
+            const res = await axios.post('http://127.0.0.1:5000/api/clean', { filename: store.fileInfo.filename });
+            if (res.data.status === 'success') {
+                store.cleanResult = res.data.data;
+                store.currentDataFile = res.data.data.cleaned_filename;
+                store.showPreview = false;
+                actions.addLog(`æ¸…æ´—å®Œæˆ: å¤„ç†äº†ç©ºå€¼å’Œå¼‚å¸¸å€¼ï¼Œç”Ÿæˆæ–°æ–‡ä»¶ ${store.currentDataFile}`, "success");
+            }
+        } catch (err) {}
+    },
+
+    async triggerStandardization() {
+        actions.showDialog({
+            type: 'confirm',
+            title: 'âš™ï¸ ç¡®è®¤æ ‡å‡†åŒ–',
+            message: 'ç¡®å®šè¦æ‰§è¡Œ Z-score å—ï¼Ÿ',
+            onConfirm: async () => {
+                actions.addLog("å¼€å§‹æ‰§è¡Œ Z-score æ ‡å‡†åŒ–è®¡ç®—...");
+                try {
+                    const res = await axios.post('http://127.0.0.1:5000/api/standardize', { filename: store.cleanResult.cleaned_filename });
+                    if (res.data.status === 'success') {
+                        store.currentDataFile = res.data.data.std_filename;
+                        store.isStandardized = true;
+                        store.showPreview = false;
+                        actions.addLog("æ ‡å‡†åŒ–å®Œæˆï¼æ•°æ®å·²æ¶ˆé™¤é‡çº²å½±å“ã€‚", "success");
+                    }
+                } catch (err) {}
+            }
+        });
+    },
+
+    undoStandardization() {
+        actions.showDialog({
+            type: 'confirm',
+            title: 'â†©ï¸ æ’¤å›æ ‡å‡†åŒ–',
+            message: 'ç¡®å®šè¦æ’¤å›å—ï¼Ÿ',
+            onConfirm: () => {
+                store.currentDataFile = store.cleanResult.cleaned_filename;
+                store.isStandardized = false;
+                store.showStats = false;
+                store.showCharts = false;
+                store.showAdvanced = false;
+                store.showTTest = false;
+                actions.addLog("å·²æ’¤é”€æ ‡å‡†åŒ–ï¼Œæ¢å¤ä¸ºåŸå§‹æ¸…æ´—æ•°æ®");
+            }
+        });
+    },
+
+    // ------------------- å®‰å…¨è„±æ•åè®® -------------------
+
+    async triggerMasking() {
+        if (store.isMasked) return;
+        actions.addLog("å¯åŠ¨å®‰å…¨åè®®ï¼šæ­£åœ¨è¿›è¡Œæ•°æ®è„±æ•åŠ å¯†...");
+        store.preMaskedFile = store.currentDataFile;
+
+        try {
+            const res = await axios.post('http://127.0.0.1:5000/api/mask', { filename: store.currentDataFile });
+            if (res.data.status === 'success') {
+                store.currentDataFile = res.data.data.masked_filename;
+                store.isMasked = true;
+                const cols = res.data.data.masked_cols.length > 0 ? res.data.data.masked_cols.join(', ') : 'æ— åŒ¹é…åˆ—';
+                actions.addLog(`ğŸ”’ è„±æ•å®Œæˆï¼å·²å¯¹åˆ— [${cols}] è¿›è¡Œæ˜Ÿå·é®ç›–å¤„ç†ã€‚`, "success");
+
+                if (store.showPreview) {
+                    store.showPreview = false;
+                    setTimeout(() => actions.togglePreview(), 200);
+                }
+                if (store.radarIdCol) { actions.fetchRadarOptions(); }
+            }
+        } catch (err) {
+            actions.addLog("æ•°æ®è„±æ•å¤±è´¥", "error");
+        }
+    },
+
+    undoMasking() {
+        actions.showDialog({
+            type: 'confirm',
+            title: 'ğŸ”“ è§£é™¤è„±æ•åè®®',
+            message: 'ç¡®å®šè¦è§£é™¤æ•°æ®è„±æ•ï¼Œæ¢å¤æ˜æ–‡æ˜¾ç¤ºå—ï¼Ÿï¼ˆä»…é™æˆæƒäººå‘˜æ“ä½œï¼‰',
+            onConfirm: () => {
+                store.currentDataFile = store.preMaskedFile;
+                store.isMasked = false;
+                actions.addLog("ğŸ”“ å·²è§£é™¤éšç§è„±æ•ï¼Œæ¢å¤æ˜æ–‡æ•°æ®å±•ç¤º", "info");
+                if (store.showPreview) {
+                    store.showPreview = false;
+                    setTimeout(() => actions.togglePreview(), 200);
+                }
+                if (store.radarIdCol) { actions.fetchRadarOptions(); }
+            }
+        });
+    },
+
+    // ------------------- æ ¸å¿ƒæ•°æ®åˆ†æå¼•æ“ -------------------
+
+    async runDescriptiveStats() {
+        if (store.showStats) { store.showStats = false; return; }
+        if (store.selectedVars.length === 0) return actions.showDialog({ title: 'æç¤º', message: 'è¯·å‹¾é€‰æ•°å€¼å˜é‡ï¼' });
+
+        actions.addLog("æ­£åœ¨è¿›è¡Œæè¿°æ€§ç»Ÿè®¡è®¡ç®—(å‡å€¼ã€æ ‡å‡†å·®ç­‰)...");
+        try {
+            const res = await axios.post('http://127.0.0.1:5000/api/analyze/descriptive', { filename: store.currentDataFile, columns: store.selectedVars });
+            if (res.data.status === 'success') {
+                store.statsResult = res.data.data;
+                store.showStats = true;
+                actions.addLog("æè¿°ç»Ÿè®¡è®¡ç®—å®Œæˆï¼", "success");
+            }
+        } catch (err) {}
+    },
+
+    async runTTest() {
+        if (store.showTTest) { store.showTTest = false; return; }
+        if (store.selectedVars.length === 0 || !store.selectedGroupVar) return actions.showDialog({ title: 'æç¤º', message: 'ç¼ºå°‘å¿…è¦å˜é‡ï¼' });
+
+        actions.addLog(`æ­£åœ¨æ‰§è¡Œç‹¬ç«‹æ ·æœ¬ t æ£€éªŒ (åˆ†ç»„: ${store.selectedGroupVar})...`);
+        try {
+            const res = await axios.post('http://127.0.0.1:5000/api/analyze/ttest', { filename: store.currentDataFile, group_col: store.selectedGroupVar, columns: store.selectedVars });
+            if (res.data.status === 'success') {
+                store.ttestResult = res.data.data;
+                store.showTTest = true;
+                actions.addLog("t æ£€éªŒçŸ©é˜µè®¡ç®—å®Œæˆï¼", "success");
+            } else {
+                actions.showDialog({ title: 'è®¡ç®—å¤±è´¥', message: res.data.message });
+            }
+        } catch (err) {}
+    },
+
+    async runAdvancedAnalysis() {
+        if (store.showAdvanced) { store.showAdvanced = false; return; }
+        if (store.selectedVars.length < 2) return actions.showDialog({ title: 'æç¤º', message: 'è‡³å°‘å‹¾é€‰ 2 ä¸ªå˜é‡ï¼' });
+
+        actions.addLog("æ­£åœ¨æ‰§è¡Œæ­£æ€æ€§æ£€éªŒåŠç›¸å…³æ€§çƒ­åŠ›å›¾è¿ç®—...");
+        try {
+            const res = await axios.post('http://127.0.0.1:5000/api/analyze/advanced', { filename: store.currentDataFile, columns: store.selectedVars });
+            if (res.data.status === 'success') {
+                store.advancedResult = res.data.data;
+                store.showAdvanced = true;
+                actions.addLog("å¤æ‚çŸ©é˜µé™ç»´è®¡ç®—å®Œæˆï¼", "success");
+
+                setTimeout(() => {
+                    const heatDom = document.getElementById('heatmap-container');
+                    if (heatDom && res.data.data.correlation_matrix.length > 0) {
+                        let chart = echarts.getInstanceByDom(heatDom) || echarts.init(heatDom);
+                        chart.clear();
+                        chart.setOption({
+                            title: { text: 'ç›¸å…³æ€§çƒ­åŠ›å›¾', left: 'center' },
+                            toolbox: { feature: { saveAsImage: { name: 'çƒ­åŠ›å›¾' } } },
+                            tooltip: { position: 'top', formatter: (params) => `${res.data.data.variables[params.value[0]]} vs ${res.data.data.variables[params.value[1]]}: ${params.value[2]}` },
+                            grid: { height: '60%', top: '15%' },
+                            xAxis: { type: 'category', data: res.data.data.variables, axisLabel: { rotate: 30 } },
+                            yAxis: { type: 'category', data: res.data.data.variables },
+                            visualMap: { min: -1, max: 1, calculable: true, orient: 'horizontal', left: 'center', bottom: '0%', inRange: { color: ['#313695', '#e0f3f8', '#a50026'] } },
+                            series: [{ name: 'Correlation', type: 'heatmap', data: res.data.data.correlation_matrix, label: { show: true } }],
+                            animation: true, animationDuration: 1000
+                        });
+                    }
+                    const scatDom = document.getElementById('scatter-container');
+                    if (scatDom && res.data.data.scatter_data.length > 0) {
+                        let chart = echarts.getInstanceByDom(scatDom) || echarts.init(scatDom);
+                        chart.clear();
+                        chart.setOption({
+                            title: { text: `æ•£ç‚¹å›¾ï¼š${res.data.data.scatter_vars[0]} vs ${res.data.data.scatter_vars[1]}`, left: 'center' },
+                            toolbox: { feature: { saveAsImage: { name: 'æ•£ç‚¹å›¾', pixelRatio: 2 } } },
+                            xAxis: { name: res.data.data.scatter_vars[0], type: 'value', scale: true },
+                            yAxis: { name: res.data.data.scatter_vars[1], type: 'value', scale: true },
+                            tooltip: { trigger: 'item', formatter: '{c}' },
+                            series: [{ symbolSize: 12, data: res.data.data.scatter_data, type: 'scatter', itemStyle: { color: '#ee6666' } }],
+                            animation: true, animationDuration: 1000
+                        });
+                    }
+                }, 300);
+            }
+        } catch (error) {}
+    },
+
+    // ------------------- å¯è§†åŒ–å¼•æ“å›¾è¡¨æ¸²æŸ“ -------------------
+
+    renderCharts() {
+        const toolbox = { feature: { saveAsImage: { name: 'å›¾è¡¨', pixelRatio: 2 } } };
+        const initChart = (domId, options) => {
+            const dom = document.getElementById(domId);
+            if (dom) {
+                let chart = echarts.getInstanceByDom(dom) || echarts.init(dom);
+                chart.clear();
+                chart.setOption({...options, toolbox, animation: true, animationDuration: 1000});
+            }
+        };
+
+        store.chartsData.filter(item => store.visActiveVars.includes(item.variable)).forEach(item => {
+            initChart(`hist-${item.variable}`, {
+                title: { text: `${item.variable} - åˆ†å¸ƒ`, left: 'center' },
+                tooltip: {},
+                xAxis: { type: 'category', data: item.histogram.categories },
+                yAxis: { type: 'value' },
+                series: [{ data: item.histogram.series, type: 'bar', itemStyle: {color: '#5470c6'} }]
+            });
+            initChart(`box-${item.variable}`, {
+                title: { text: `${item.variable} - ç®±çº¿å›¾`, left: 'center' },
+                tooltip: {},
+                xAxis: { type: 'category', data: [item.variable] },
+                yAxis: { type: 'value', scale: true },
+                series: [{ type: 'boxplot', data: [item.boxplot], itemStyle: {color: '#fac858'} }]
+            });
+        });
+        actions.addLog("ECharts å¼•æ“æ¸²æŸ“å®Œæˆï¼", "success");
+    },
+
+    async generateCharts() {
+        if (store.showCharts) {
+            store.showCharts = false;
+            store.showVisControl = false;
+            return;
+        }
+        if (store.selectedVars.length === 0) return actions.showDialog({ title: 'æç¤º', message: 'è¯·å‹¾é€‰æ•°å€¼å˜é‡ï¼' });
+
+        actions.addLog("æ­£åœ¨æå–æ•°æ®ç‰¹å¾ç‚¹ä»¥ç»˜åˆ¶å¯è§†åŒ–å›¾è¡¨...");
+        try {
+            const res = await axios.post('http://127.0.0.1:5000/api/visualize/distribution', { filename: store.currentDataFile, columns: store.selectedVars });
+            if (res.data.status === 'success') {
+                store.chartsData = res.data.data;
+                store.visActiveVars = [...store.selectedVars];
+                store.showCharts = true;
+                store.showVisControl = true;
+            }
+        } catch (error) {}
+    },
+
+    // ------------------- æ™ºèƒ½åŒ–å¼•æ“ (AI & ML & é›·è¾¾å›¾) -------------------
 
-  async runAiSummary() {
-      if (store.showAiSummary) { store.showAiSummary = false; actions.addLog("å·²æ”¶èµ· AI æ™ºèƒ½è§£è¯»é¢æ¿"); return; }
-      actions.addLog("æ­£åœ¨å¯åŠ¨ AI æ™ºèƒ½å¼•æ“åˆ†æå…¨å±€æ•°æ®...");
-      try {
-          const res = await axios.post('http://127.0.0.1:5000/api/analyze/summary', { filename: store.currentDataFile });
-          if(res.data.status === 'success') {
-              store.aiSummaryText = res.data.data;
-              store.showAiSummary = true;
-              actions.addLog("AI è§£è¯»æŠ¥å‘Šç”Ÿæˆå®Œæ¯•ï¼Œæ­£åœ¨æ‰“å­—è¾“å‡º...", "success");
-          }
-      } catch (err) {
-          const realError = err.response?.data?.message || 'ç½‘ç»œæˆ–æœåŠ¡å™¨æ–­å¼€è¿æ¥';
-          actions.addLog(`AI åˆ†æå¤±è´¥: ${realError}`, "error");
-          actions.showDialog({ title: 'âŒ AI åˆ†æå¤±è´¥', message: `é”™è¯¯åŸå› ï¼š${realError}` });
-      }
-  },
+    async runAiSummary() {
+        if (store.showAiSummary) { store.showAiSummary = false; actions.addLog("å·²æ”¶èµ·è§£è¯»é¢æ¿"); return; }
+        actions.addLog("æ­£åœ¨åˆ†æå…¨å±€æ•°æ®...");
+        try {
+            const res = await axios.post('http://127.0.0.1:5000/api/analyze/summary', { filename: store.currentDataFile });
+            if (res.data.status === 'success') {
+                store.aiSummaryText = res.data.data;
+                store.showAiSummary = true;
+                actions.addLog("è§£è¯»æŠ¥å‘Šç”Ÿæˆå®Œæ¯•ï¼Œæ­£åœ¨è¾“å‡º...", "success");
+            }
+        } catch (err) {
+            const realError = err.response?.data?.message || 'ç½‘ç»œæˆ–æœåŠ¡å™¨æ–­å¼€è¿æ¥';
+            actions.addLog(`åˆ†æå¤±è´¥: ${realError}`, "error");
+            actions.showDialog({ title: 'âŒ åˆ†æå¤±è´¥', message: `é”™è¯¯åŸå› ï¼š${realError}` });
+        }
+    },
 
-  async fetchRadarOptions() {
-      if (!store.radarIdCol) return;
-      actions.addLog(`æ­£åœ¨æ‹‰å–é›·è¾¾å›¾ä¸ªä½“é€‰é¡¹ [${store.radarIdCol}]...`);
-      try {
-          const res = await axios.post('http://127.0.0.1:5000/api/get_options', { filename: store.currentDataFile, column: store.radarIdCol });
-          if(res.data.status === 'success') { store.radarOptions = res.data.data; store.selectedRadarTarget = ''; actions.addLog(`é€‰é¡¹æ‹‰å–æˆåŠŸï¼Œå…± ${store.radarOptions.length} æ¡`); }
-      } catch(err) { actions.addLog("æ‹‰å–ä¸ªä½“é€‰é¡¹å¤±è´¥", "error"); }
-  },
+    async fetchRadarOptions() {
+        if (!store.radarIdCol) return;
+        actions.addLog(`æ­£åœ¨æ‹‰å–é›·è¾¾å›¾ä¸ªä½“é€‰é¡¹ [${store.radarIdCol}]...`);
+        try {
+            const res = await axios.post('http://127.0.0.1:5000/api/get_options', { filename: store.currentDataFile, column: store.radarIdCol });
+            if (res.data.status === 'success') {
+                store.radarOptions = res.data.data;
+                store.selectedRadarTarget = '';
+                actions.addLog(`é€‰é¡¹æ‹‰å–æˆåŠŸï¼Œå…± ${store.radarOptions.length} æ¡`);
+            }
+        } catch(err) {
+            actions.addLog("æ‹‰å–ä¸ªä½“é€‰é¡¹å¤±è´¥", "error");
+        }
+    },
 
-  async runRadarChart() {
-      if (store.showRadar) { store.showRadar = false; actions.addLog("å·²æ”¶èµ·é›·è¾¾å›¾é¢æ¿"); return; }
-      if (!store.radarIdCol || !store.selectedRadarTarget) return actions.showDialog({title:'æç¤º', message:'è¯·å…ˆé€‰æ‹©èº«ä»½åˆ—å’Œå…·ä½“ä¸ªä½“ï¼'});
-      actions.addLog(`æ­£åœ¨è®¡ç®—ç¾¤ä½“å‡å€¼ä¸ [${store.selectedRadarTarget}] çš„ä¸ªä½“å¤šç»´æ•°æ®...`);
-      try {
-          const res = await axios.post('http://127.0.0.1:5000/api/visualize/radar', { filename: store.currentDataFile, id_col: store.radarIdCol, target_val: store.selectedRadarTarget });
-          if(res.data.status === 'success') {
-              store.radarResult = res.data.data; store.showRadar = true;
-              actions.addLog(`é›·è¾¾å›¾æ•°æ®è®¡ç®—å®Œæˆï¼Œæ­£åœ¨æ¸²æŸ“...`, "success");
-              setTimeout(() => {
-                 const dom = document.getElementById('radar-container');
-                 if (dom) {
-                     let chart = echarts.getInstanceByDom(dom) || echarts.init(dom); chart.clear();
-                     chart.setOption({
-                         title: { text: `${store.radarResult.target_name} vs ç¾¤ä½“å¹³å‡`, left: 'center' }, tooltip: { trigger: 'item' }, legend: { bottom: 0, data: ['ç¾¤ä½“å¹³å‡', store.radarResult.target_name] }, radar: { indicator: store.radarResult.indicators, radius: '65%' },
-                         series: [{ type: 'radar', data: [ { value: store.radarResult.avg_data, name: 'ç¾¤ä½“å¹³å‡', itemStyle: {color: '#aaa'}, areaStyle: {color: 'rgba(170,170,170,0.3)'} }, { value: store.radarResult.target_data, name: store.radarResult.target_name, itemStyle: {color: '#E6A23C'}, areaStyle: {color: 'rgba(230,162,60,0.4)'}, lineStyle: {width: 3} } ], animationDuration: 1500 }]
-                     });
-                 }
-              }, 300);
-          }
-      } catch (err) { actions.addLog("é›·è¾¾å›¾è®¡ç®—å¤±è´¥", "error"); actions.showDialog({ title: 'ç”Ÿæˆå¤±è´¥', message: err.response?.data?.message || 'æ— æ³•ç”Ÿæˆ' }); }
-  },
+    async runRadarChart() {
+        if (store.showRadar) { store.showRadar = false; actions.addLog("å·²æ”¶èµ·é›·è¾¾å›¾é¢æ¿"); return; }
+        if (!store.radarIdCol || !store.selectedRadarTarget) return actions.showDialog({title:'æç¤º', message:'è¯·å…ˆé€‰æ‹©èº«ä»½åˆ—å’Œå…·ä½“ä¸ªä½“ï¼'});
+
+        actions.addLog(`æ­£åœ¨è®¡ç®—ç¾¤ä½“å‡å€¼ä¸ [${store.selectedRadarTarget}] çš„ä¸ªä½“å¤šç»´æ•°æ®...`);
+        try {
+            const res = await axios.post('http://127.0.0.1:5000/api/visualize/radar', { filename: store.currentDataFile, id_col: store.radarIdCol, target_val: store.selectedRadarTarget });
+            if (res.data.status === 'success') {
+                store.radarResult = res.data.data;
+                store.showRadar = true;
+                actions.addLog(`é›·è¾¾å›¾æ•°æ®è®¡ç®—å®Œæˆï¼Œæ­£åœ¨æ¸²æŸ“...`, "success");
+
+                setTimeout(() => {
+                   const dom = document.getElementById('radar-container');
+                   if (dom) {
+                       let chart = echarts.getInstanceByDom(dom) || echarts.init(dom);
+                       chart.clear();
+                       chart.setOption({
+                           title: { text: `${store.radarResult.target_name} vs ç¾¤ä½“å¹³å‡`, left: 'center' },
+                           tooltip: { trigger: 'item' },
+                           legend: { bottom: 0, data: ['ç¾¤ä½“å¹³å‡', store.radarResult.target_name] },
+                           radar: { indicator: store.radarResult.indicators, radius: '65%' },
+                           series: [{
+                               type: 'radar',
+                               data: [
+                                   { value: store.radarResult.avg_data, name: 'ç¾¤ä½“å¹³å‡', itemStyle: {color: '#aaa'}, areaStyle: {color: 'rgba(170,170,170,0.3)'} },
+                                   { value: store.radarResult.target_data, name: store.radarResult.target_name, itemStyle: {color: '#E6A23C'}, areaStyle: {color: 'rgba(230,162,60,0.4)'}, lineStyle: {width: 3} }
+                               ],
+                               animationDuration: 1500
+                           }]
+                       });
+                   }
+                }, 300);
+            }
+        } catch (err) {
+            actions.addLog("é›·è¾¾å›¾è®¡ç®—å¤±è´¥", "error");
+            actions.showDialog({ title: 'ç”Ÿæˆå¤±è´¥', message: err.response?.data?.message || 'æ— æ³•ç”Ÿæˆ' });
+        }
+    },
 
-  async togglePreview() { if (store.showPreview) { store.showPreview = false; return; } actions.addLog("æ­£åœ¨æ‹‰å–æ•°æ®é¢„è§ˆ..."); try { const res = await axios.post('http://127.0.0.1:5000/api/preview', { filename: store.currentDataFile }); if(res.data.status === 'success') { store.previewData = res.data.data; store.showPreview = true; actions.addLog("é¢„è§ˆæ•°æ®åŠ è½½å®Œæ¯•"); } } catch (err) {} },
-  exportToCSV(headers, rows, exportFilename) { actions.addLog(`æ­£åœ¨å¯¼å‡ºæ–‡ä»¶: ${exportFilename}.csv`, "success"); let csvContent = "data:text/csv;charset=utf-8,\uFEFF" + headers.join(",") + "\r\n"; rows.forEach(row => { csvContent += headers.map(h => row[h] !== undefined ? row[h] : "").join(",") + "\r\n"; }); const link = document.createElement("a"); link.setAttribute("href", encodeURI(csvContent)); link.setAttribute("download", exportFilename + ".csv"); document.body.appendChild(link); link.click(); },
-  async triggerDataCleaning() { actions.addLog("æ­£åœ¨æ‰§è¡Œå…¨è‡ªåŠ¨æ•°æ®æ¸…æ´—..."); try { const res = await axios.post('http://127.0.0.1:5000/api/clean', { filename: store.fileInfo.filename }); if(res.data.status === 'success') { store.cleanResult = res.data.data; store.currentDataFile = res.data.data.cleaned_filename; store.showPreview = false; actions.addLog(`æ¸…æ´—å®Œæˆ: å¤„ç†äº†ç©ºå€¼å’Œå¼‚å¸¸å€¼ï¼Œç”Ÿæˆæ–°æ–‡ä»¶ ${store.currentDataFile}`, "success"); } } catch (err) {} },
-  async triggerStandardization() { actions.showDialog({ type: 'confirm', title: 'âš™ï¸ ç¡®è®¤æ ‡å‡†åŒ–', message: 'ç¡®å®šè¦æ‰§è¡Œ Z-score å—ï¼Ÿ', onConfirm: async () => { actions.addLog("å¼€å§‹æ‰§è¡Œ Z-score æ ‡å‡†åŒ–è®¡ç®—..."); try { const res = await axios.post('http://127.0.0.1:5000/api/standardize', { filename: store.cleanResult.cleaned_filename }); if(res.data.status === 'success') { store.currentDataFile = res.data.data.std_filename; store.isStandardized = true; store.showPreview = false; actions.addLog("æ ‡å‡†åŒ–å®Œæˆï¼æ•°æ®å·²æ¶ˆé™¤é‡çº²å½±å“ã€‚", "success"); } } catch (err) {} } }); },
-  undoStandardization() { actions.showDialog({ type: 'confirm', title: 'â†©ï¸ æ’¤å›æ ‡å‡†åŒ–', message: 'ç¡®å®šè¦æ’¤å›å—ï¼Ÿ', onConfirm: () => { store.currentDataFile = store.cleanResult.cleaned_filename; store.isStandardized = false; store.showStats = false; store.showCharts = false; store.showAdvanced = false; store.showTTest = false; actions.addLog("å·²æ’¤é”€æ ‡å‡†åŒ–ï¼Œæ¢å¤ä¸ºåŸå§‹æ¸…æ´—æ•°æ®"); } }); },
-  async runDescriptiveStats() { if (store.showStats) { store.showStats = false; return; } if (store.selectedVars.length === 0) return actions.showDialog({ title: 'æç¤º', message: 'è¯·å‹¾é€‰æ•°å€¼å˜é‡ï¼' }); actions.addLog("æ­£åœ¨è¿›è¡Œæè¿°æ€§ç»Ÿè®¡è®¡ç®—(å‡å€¼ã€æ ‡å‡†å·®ç­‰)..."); try { const res = await axios.post('http://127.0.0.1:5000/api/analyze/descriptive', { filename: store.currentDataFile, columns: store.selectedVars }); if(res.data.status === 'success') { store.statsResult = res.data.data; store.showStats = true; actions.addLog("æè¿°ç»Ÿè®¡è®¡ç®—å®Œæˆï¼", "success"); } } catch (err) {} },
-  async runTTest() { if (store.showTTest) { store.showTTest = false; return; } if (store.selectedVars.length === 0 || !store.selectedGroupVar) return actions.showDialog({ title: 'æç¤º', message: 'ç¼ºå°‘å¿…è¦å˜é‡ï¼' }); actions.addLog(`æ­£åœ¨æ‰§è¡Œç‹¬ç«‹æ ·æœ¬ t æ£€éªŒ (åˆ†ç»„: ${store.selectedGroupVar})...`); try { const res = await axios.post('http://127.0.0.1:5000/api/analyze/ttest', { filename: store.currentDataFile, group_col: store.selectedGroupVar, columns: store.selectedVars }); if(res.data.status === 'success') { store.ttestResult = res.data.data; store.showTTest = true; actions.addLog("t æ£€éªŒçŸ©é˜µè®¡ç®—å®Œæˆï¼", "success"); } else { actions.showDialog({ title: 'è®¡ç®—å¤±è´¥', message: res.data.message }); } } catch (err) {} },
+    async runMachineLearning() {
+        if (store.showML) { store.showML = false; return; }
+        if (!store.mlTargetVar || store.mlFeatureVars.length === 0) {
+            return actions.showDialog({ title: 'æç¤º', message: 'è¯·é€‰æ‹©ä¸€ä¸ªç›®æ ‡å˜é‡å’Œè‡³å°‘ä¸€ä¸ªç‰¹å¾å˜é‡ï¼' });
+        }
 
-  // ======== ç»ˆæä¿®å¤ï¼šå½»åº•å»é™¤äº†é¥¼å›¾ï¼Œå›¾è¡¨æ¸²æŸ“å˜çº¯ç²¹ ========
-  renderCharts() {
-      const toolbox = { feature: { saveAsImage: { name: 'å›¾è¡¨', pixelRatio: 2 } } };
-      const initChart = (domId, options) => { const dom = document.getElementById(domId); if (dom) { let chart = echarts.getInstanceByDom(dom) || echarts.init(dom); chart.clear(); chart.setOption({...options, toolbox, animation: true, animationDuration: 1000}); } };
-      store.chartsData.filter(item => store.visActiveVars.includes(item.variable)).forEach(item => {
-          initChart(`hist-${item.variable}`, { title: { text: `${item.variable} - åˆ†å¸ƒ`, left: 'center' }, tooltip: {}, xAxis: { type: 'category', data: item.histogram.categories }, yAxis: { type: 'value' }, series: [{ data: item.histogram.series, type: 'bar', itemStyle: {color: '#5470c6'} }] });
-          initChart(`box-${item.variable}`, { title: { text: `${item.variable} - ç®±çº¿å›¾`, left: 'center' }, tooltip: {}, xAxis: { type: 'category', data: [item.variable] }, yAxis: { type: 'value', scale: true }, series: [{ type: 'boxplot', data: [item.boxplot], itemStyle: {color: '#fac858'} }] });
-      });
-      actions.addLog("ECharts å¼•æ“æ¸²æŸ“å®Œæˆï¼", "success");
-  },
-  async generateCharts() {
-      if (store.showCharts) { store.showCharts = false; store.showVisControl = false; return; }
-      if (store.selectedVars.length === 0) return actions.showDialog({ title: 'æç¤º', message: 'è¯·å‹¾é€‰æ•°å€¼å˜é‡ï¼' });
-      actions.addLog("æ­£åœ¨æå–æ•°æ®ç‰¹å¾ç‚¹ä»¥ç»˜åˆ¶å¯è§†åŒ–å›¾è¡¨...");
-      try {
-          const res = await axios.post('http://127.0.0.1:5000/api/visualize/distribution', { filename: store.currentDataFile, columns: store.selectedVars });
-          if(res.data.status === 'success') {
-              store.chartsData = res.data.data;
-              // å½»åº•å¹²æ‰è·å–åˆ†ç±»é¥¼å›¾çš„è¯·æ±‚ï¼Œä¸€åŠ³æ°¸é€¸ï¼
-              store.visActiveVars = [...store.selectedVars]; // é»˜è®¤å‹¾é€‰å…¨éƒ¨
-              store.showCharts = true;
-              store.showVisControl = true;
-          }
-      } catch (error) {}
-  },
+        actions.addLog("å¯åŠ¨è®­ç»ƒå¼•æ“ï¼šæ­£åœ¨æ„å»ºéšæœºæ£®æ—æ¨¡å‹...");
+        try {
+            const res = await axios.post('http://127.0.0.1:5000/api/predict', {
+                filename: store.currentDataFile,
+                target_col: store.mlTargetVar,
+                feature_cols: store.mlFeatureVars
+            });
+
+            if (res.data.status === 'success') {
+                store.mlResult = res.data.data;
+                store.showML = true;
+                actions.addLog(`æ¨¡å‹è®­ç»ƒå®Œæ¯•ï¼RÂ² å¾—åˆ†: ${store.mlResult.r2}`, "success");
+
+                setTimeout(() => {
+                    // ç‰¹å¾é‡è¦æ€§æŸ±çŠ¶å›¾
+                    const impDom = document.getElementById('ml-importance-chart');
+                    if (impDom) {
+                        let chart = echarts.getInstanceByDom(impDom) || echarts.init(impDom);
+                        chart.setOption({
+                            title: { text: 'è¯Šæ–­ï¼šæ ¸å¿ƒå½±å“å› ç´  (ç‰¹å¾é‡è¦æ€§)', left: 'center' },
+                            tooltip: { formatter: '{b}: {c}%' },
+                            xAxis: { type: 'category', data: store.mlResult.features, axisLabel: { interval: 0, rotate: 30 } },
+                            yAxis: { type: 'value', axisLabel: { formatter: '{value}%' } },
+                            series: [{ data: store.mlResult.importances, type: 'bar', itemStyle: { color: store.isDarkMode ? '#b37feb' : '#722ed1', borderRadius: [4, 4, 0, 0] } }],
+                            animationDuration: 1500
+                        });
+                    }
+
+                    // çœŸå® vs é¢„æµ‹æ•£ç‚¹å›¾
+                    const scatDom = document.getElementById('ml-scatter-chart');
+                    if (scatDom) {
+                        const allVals = store.mlResult.scatter.flat();
+                        const maxVal = Math.max(...allVals) * 1.1;
+                        let chart = echarts.getInstanceByDom(scatDom) || echarts.init(scatDom);
+                        chart.setOption({
+                            title: { text: 'æ¨¡å‹æ£€éªŒï¼šçœŸå®å€¼ vs é¢„æµ‹å€¼', left: 'center' },
+                            tooltip: { formatter: (p) => `çœŸå®å€¼: ${p.value[0]}<br/>é¢„æµ‹å€¼: ${p.value[1]}` },
+                            xAxis: { type: 'value', name: 'çœŸå®å€¼', scale: true },
+                            yAxis: { type: 'value', name: 'é¢„æµ‹å€¼', scale: true },
+                            series: [
+                                { name: 'é¢„æµ‹ç‚¹', type: 'scatter', data: store.mlResult.scatter, itemStyle: { color: '#fa8c16' } },
+                                { name: 'å®Œç¾é¢„æµ‹çº¿', type: 'line', data: [[0,0], [maxVal, maxVal]], symbol: 'none', lineStyle: { type: 'dashed', color: '#1890ff', width: 2 } }
+                            ],
+                            animationDuration: 1500
+                        });
+                    }
+                }, 300);
+            }
+        } catch (err) {
+            actions.addLog("æ¨¡å‹è®­ç»ƒå¤±è´¥", "error");
+            actions.showDialog({ title: 'è®­ç»ƒå¤±è´¥', message: err.response?.data?.message || 'ç®—æ³•å¼‚å¸¸' });
+        }
+    },
+
+    // ------------------- PDF å¯¼å‡ºé—­ç¯æ ¸å¿ƒå¼•æ“ -------------------
+
+    async exportPDF() {
+        actions.addLog("å¯åŠ¨é«˜æ¸… PDF ç”Ÿæˆï¼Œè¿›å…¥æ— ç»ç’ƒåŒ–æ‰«ææ¨¡å¼...");
+        const element = document.getElementById('pdf-report-area');
+        if (!element) return actions.addLog("æœªæ‰¾åˆ°æ‰«æåŒºåŸŸ", "error");
+
+        actions.showDialog({ title: 'ğŸ“¸ æ­£åœ¨ç”ŸæˆPDF', message: 'ç³»ç»Ÿæ­£åœ¨å‰¥ç¦»ç‰¹æ•ˆä»¥ç¡®ä¿ç”»é¢æ¸…æ™°åº¦ï¼Œå±å¹•é—ªçƒå±äºæ­£å¸¸æ‰«æç°è±¡...' });
+
+        try {
+            await new Promise(resolve => setTimeout(resolve, 800));
+
+            // EChartså›¾è¡¨è½¬æ¢ä¸ºçº¯å›¾ç‰‡ï¼Œé˜²æ­¢ Canvas åœ¨å¯¼å‡ºæ—¶é”™ä½æˆ–å‘è™š
+            const chartBoxes = element.querySelectorAll('.chart-box');
+            const tempImages = [];
+            chartBoxes.forEach((box) => {
+                const chartInstance = echarts.getInstanceByDom(box);
+                if (chartInstance) {
+                    const imgUrl = chartInstance.getDataURL({ pixelRatio: 2, backgroundColor: store.isDarkMode ? '#1f1f2e' : '#ffffff' });
+                    const img = document.createElement('img');
+                    img.src = imgUrl;
+                    img.style.width = '100%';
+                    img.style.height = '100%';
+                    img.style.objectFit = 'contain';
+
+                    const canvasDiv = box.querySelector('div');
+                    if (canvasDiv) canvasDiv.style.display = 'none';
+
+                    box.appendChild(img);
+                    tempImages.push({ box, canvasDiv, img });
+                }
+            });
+
+            // å¼ºåŠ›æ³¨å…¥ CSSï¼Œç¬é—´å‰”é™¤é¡µé¢æ¯›ç»ç’ƒå’Œé€æ˜ç‰¹æ•ˆ
+            const isDark = store.isDarkMode;
+            const printStyle = document.createElement('style');
+            printStyle.id = 'pdf-print-style';
+            printStyle.innerHTML = `
+                #pdf-report-area, .content-area { background: ${isDark ? '#14141f' : '#f0f2f5'} !important; }
+                .glass-card, .glass-inner, .glass-table {
+                    background: ${isDark ? '#1f1f2e' : '#ffffff'} !important;
+                    backdrop-filter: none !important;
+                    -webkit-backdrop-filter: none !important;
+                    box-shadow: none !important;
+                    border: 1px solid ${isDark ? '#33334d' : '#e8e8e8'} !important;
+                }
+                .glass-table th { background: ${isDark ? '#2a2a40' : '#fafafa'} !important; }
+                .glass-table td, .glass-table th { border-bottom: 1px solid ${isDark ? '#3c3c5c' : '#f0f0f0'} !important; }
+                * { text-shadow: none !important; }
+            `;
+            document.head.appendChild(printStyle);
+
+            // å¼ºåˆ¶æ»šåŠ¨å›é¡¶éƒ¨ï¼Œé˜²æ­¢æˆªå›¾äº§ç”Ÿç©ºç™½æˆªæ–­
+            const originalScrollY = window.scrollY;
+            window.scrollTo(0, 0);
+            const elOverflow = element.style.overflow;
+            const elHeight = element.style.height;
+            element.style.overflow = 'visible';
+            element.style.height = 'auto';
+
+            // è°ƒç”¨ html2canvas æ‰§è¡Œå…¨æ™¯é•¿æˆªå›¾
+            const canvas = await html2canvas(element, {
+                scale: 2,
+                useCORS: true,
+                backgroundColor: isDark ? '#14141f' : '#f0f2f5',
+                windowHeight: element.scrollHeight
+            });
+
+            // æ‰«æå®Œæ¯•ï¼Œæ’¤é”€æ³¨å…¥çš„ CSS æ ·å¼ï¼Œæ¢å¤é¡µé¢åŸå§‹æ¨¡æ ·
+            document.head.removeChild(printStyle);
+            element.style.overflow = elOverflow;
+            element.style.height = elHeight;
+            window.scrollTo(0, originalScrollY);
+
+            tempImages.forEach(({ box, canvasDiv, img }) => {
+                if (canvasDiv) canvasDiv.style.display = 'block';
+                box.removeChild(img);
+            });
+
+            // ç”Ÿæˆ PDF å¹¶åŠ¨æ€é€‚é…é•¿å®½
+            const imgData = canvas.toDataURL('image/jpeg', 1.0);
+            const pdfWidth = 210;
+            const pdfHeight = (canvas.height * pdfWidth) / canvas.width;
+
+            const pdf = new jsPDF('p', 'mm', [pdfWidth, pdfHeight]);
+            pdf.addImage(imgData, 'JPEG', 0, 0, pdfWidth, pdfHeight);
+
+            const timeStr = new Date().toLocaleTimeString().replace(/:/g, '');
+            pdf.save(`PDFæ•°æ®æŠ¥_${timeStr}.pdf`);
+
+            store.dialog.show = false;
+            actions.addLog("ğŸ‰  PDF ç”Ÿæˆå®Œæ¯•ï¼", "success");
+
+        } catch (error) {
+            store.dialog.show = false;
+            actions.addLog(`PDF å¼•æ“æ¸²æŸ“å¤±è´¥: ${error.message}`, "error");
+            const printStyle = document.getElementById('pdf-print-style');
+            if (printStyle) document.head.removeChild(printStyle);
+        }
+    },
 
-  async runAdvancedAnalysis() { if (store.showAdvanced) { store.showAdvanced = false; return; } if (store.selectedVars.length < 2) return actions.showDialog({ title: 'æç¤º', message: 'è‡³å°‘å‹¾é€‰ 2 ä¸ªå˜é‡ï¼' }); actions.addLog("æ­£åœ¨æ‰§è¡Œæ­£æ€æ€§æ£€éªŒåŠç›¸å…³æ€§çƒ­åŠ›å›¾è¿ç®—..."); try { const res = await axios.post('http://127.0.0.1:5000/api/analyze/advanced', { filename: store.currentDataFile, columns: store.selectedVars }); if(res.data.status === 'success') { store.advancedResult = res.data.data; store.showAdvanced = true; actions.addLog("å¤æ‚çŸ©é˜µé™ç»´è®¡ç®—å®Œæˆï¼", "success"); setTimeout(() => { const heatDom = document.getElementById('heatmap-container'); if (heatDom && res.data.data.correlation_matrix.length > 0) { let chart = echarts.getInstanceByDom(heatDom) || echarts.init(heatDom); chart.clear(); chart.setOption({ title: { text: 'ç›¸å…³æ€§çƒ­åŠ›å›¾', left: 'center' }, toolbox: { feature: { saveAsImage: { name: 'çƒ­åŠ›å›¾' } } }, tooltip: { position: 'top', formatter: (params) => `${res.data.data.variables[params.value[0]]} vs ${res.data.data.variables[params.value[1]]}: ${params.value[2]}` }, grid: { height: '60%', top: '15%' }, xAxis: { type: 'category', data: res.data.data.variables, axisLabel: { rotate: 30 } }, yAxis: { type: 'category', data: res.data.data.variables }, visualMap: { min: -1, max: 1, calculable: true, orient: 'horizontal', left: 'center', bottom: '0%', inRange: { color: ['#313695', '#e0f3f8', '#a50026'] } }, series: [{ name: 'Correlation', type: 'heatmap', data: res.data.data.correlation_matrix, label: { show: true } }], animation: true, animationDuration: 1000 }); } const scatDom = document.getElementById('scatter-container'); if (scatDom && res.data.data.scatter_data.length > 0) { let chart = echarts.getInstanceByDom(scatDom) || echarts.init(scatDom); chart.clear(); chart.setOption({ title: { text: `æ•£ç‚¹å›¾ï¼š${res.data.data.scatter_vars[0]} vs ${res.data.data.scatter_vars[1]}`, left: 'center' }, toolbox: { feature: { saveAsImage: { name: 'æ•£ç‚¹å›¾', pixelRatio: 2 } } }, xAxis: { name: res.data.data.scatter_vars[0], type: 'value', scale: true }, yAxis: { name: res.data.data.scatter_vars[1], type: 'value', scale: true }, tooltip: { trigger: 'item', formatter: '{c}' }, series: [{ symbolSize: 12, data: res.data.data.scatter_data, type: 'scatter', itemStyle: { color: '#ee6666' } }], animation: true, animationDuration: 1000 }); } }, 300); } } catch (error) {} },
-  async triggerCleanup() { actions.showDialog({ type: 'confirm', title: 'ğŸ§¹ æ¸…ç†ç³»ç»Ÿç¼“å­˜', message: 'ç¡®å®šè¦æ¸…ç†å—ï¼Ÿ', onConfirm: async () => { actions.addLog("å‘å‡ºæ¸…ç©ºæŒ‡ä»¤ï¼Œé”€æ¯å†…å­˜ä¸­çš„æ–‡ä»¶ç¢ç‰‡..."); try { await axios.post('http://127.0.0.1:5000/api/cleanup'); actions.resetSystemState(); store.isEntered = false; store.logs = []; } catch (err) {} } }); }
-}
\ No newline at end of file
+    /**
+     * ç³»ç»Ÿçº§æ¸…ç†ç¼“å­˜
+     */
+    async triggerCleanup() {
+        actions.showDialog({
+            type: 'confirm',
+            title: 'ğŸ§¹ æ¸…ç†ç³»ç»Ÿç¼“å­˜',
+            message: 'ç¡®å®šè¦æ¸…ç†å—ï¼Ÿ',
+            onConfirm: async () => {
+                actions.addLog("å‘å‡ºæ¸…ç©ºæŒ‡ä»¤ï¼Œé”€æ¯å†…å­˜ä¸­çš„æ–‡ä»¶ç¢ç‰‡...");
+                try {
+                    await axios.post('http://127.0.0.1:5000/api/cleanup');
+                    actions.resetSystemState();
+                    store.isEntered = false;
+                    store.logs = [];
+                } catch (err) {}
+            }
+        });
+    }
+};
\ No newline at end of file
Index: frontend/src/style.css
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/frontend/src/style.css b/frontend/src/style.css
--- a/frontend/src/style.css	(revision abb8849e19eeefdeafa9ee7a9e43ec14678cd86b)
+++ b/frontend/src/style.css	(revision 8ba06953ad09fca75dbc11f9d3c3d2860d611ecb)
@@ -1,19 +1,107 @@
-html, body, #app { margin: 0 !important; padding: 0 !important; width: 100%; height: 100%; max-width: none !important; overflow: hidden; box-sizing: border-box; font-family: 'Helvetica Neue', Arial, sans-serif; }
-* { box-sizing: inherit; }
+/* =========================================
+   å…¨å±€åŸºç¡€é‡ç½® (CSS Reset)
+========================================= */
+html,
+body,
+#app {
+    margin: 0 !important;
+    padding: 0 !important;
+    width: 100%;
+    height: 100%;
+    max-width: none !important;
+    overflow: hidden;
+    box-sizing: border-box;
+    font-family: 'Helvetica Neue', Arial, sans-serif;
+}
+
+* {
+    box-sizing: inherit;
+}
+
+/* =========================================
+   å…¨å±€æ¯›ç»ç’ƒ UI ç»„ä»¶åŸºç¡€
+========================================= */
+.glass-card {
+    background: rgba(255, 255, 255, 0.75);
+    backdrop-filter: blur(8px);
+    -webkit-backdrop-filter: blur(8px);
+    border: 1px solid rgba(255, 255, 255, 0.5);
+    box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.1);
+    border-radius: 16px;
+    transition: all 0.3s;
+}
+
+.glass-inner {
+    background: rgba(255, 255, 255, 0.5);
+    border-radius: 12px;
+}
+
+/* =========================================
+   å¤œé—´æ¨¡å¼ç³»ç»Ÿè¦†ç›–æ ·å¼ (Dark Mode Override)
+========================================= */
+.dark-mode {
+    color: #e0e0e0;
+}
+
+.dark-mode .bg-overlay {
+    background: rgba(0, 0, 0, 0.7);
+}
+
+.dark-mode .glass-card {
+    background: rgba(18, 18, 18, 0.75);
+    border: 1px solid rgba(255, 255, 255, 0.05);
+    color: #e0e0e0;
+    box-shadow: 0 15px 35px 0 rgba(0, 0, 0, 0.8);
+}
+
+.dark-mode .glass-inner {
+    background: rgba(220, 220, 225, 0.85);
+    border: 1px solid rgba(0, 0, 0, 0.3);
+}
+
+.dark-mode .sidebar-title,
+.dark-mode .panel-title,
+.dark-mode h4 {
+    color: #fff;
+}
+
+.dark-mode .glass-table th {
+    background: rgba(0, 0, 0, 0.6);
+    color: #ddd;
+    border-color: rgba(255, 255, 255, 0.05);
+}
+
+.dark-mode .glass-table td {
+    border-color: rgba(255, 255, 255, 0.05);
+}
 
-.glass-card { background: rgba(255, 255, 255, 0.75); backdrop-filter: blur(8px); -webkit-backdrop-filter: blur(8px); border: 1px solid rgba(255, 255, 255, 0.5); box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.1); border-radius: 16px; transition: all 0.3s; }
-.glass-inner { background: rgba(255, 255, 255, 0.5); border-radius: 12px; }
+.dark-mode .glass-table tr:hover {
+    background: rgba(255, 255, 255, 0.05);
+}
 
-.dark-mode { color: #e0e0e0; }
-.dark-mode .bg-overlay { background: rgba(0, 0, 0, 0.7); }
-.dark-mode .glass-card { background: rgba(18, 18, 18, 0.75); border: 1px solid rgba(255, 255, 255, 0.05); color: #e0e0e0; box-shadow: 0 15px 35px 0 rgba(0, 0, 0, 0.8); }
-.dark-mode .glass-inner { background: rgba(220, 220, 225, 0.85); border: 1px solid rgba(0, 0, 0, 0.3); }
-.dark-mode .sidebar-title, .dark-mode .panel-title, .dark-mode h4 { color: #fff; }
-.dark-mode .glass-table th { background: rgba(0, 0, 0, 0.6); color: #ddd; border-color: rgba(255, 255, 255, 0.05); }
-.dark-mode .glass-table td { border-color: rgba(255, 255, 255, 0.05); }
-.dark-mode .glass-table tr:hover { background: rgba(255, 255, 255, 0.05); }
-.dark-mode .upload-area { background: rgba(0, 0, 0, 0.5); border-color: rgba(255, 255, 255, 0.1); }
-.dark-mode .checkbox-label { background: rgba(0, 0, 0, 0.5); color: #ccc; border-color: rgba(255, 255, 255, 0.1); }
-.dark-mode .custom-select { background: rgba(0, 0, 0, 0.5); color: #ccc; border-color: rgba(255, 255, 255, 0.1); }
-.dark-mode .custom-select option { background: #2c2c2c; }
-.dark-mode .theme-toggle-btn { background: rgba(25, 25, 25, 0.8); color: #fff; border: 1px solid rgba(255, 255, 255, 0.1); }
\ No newline at end of file
+.dark-mode .upload-area {
+    background: rgba(0, 0, 0, 0.5);
+    border-color: rgba(255, 255, 255, 0.1);
+}
+
+.dark-mode .checkbox-label {
+    background: rgba(0, 0, 0, 0.5);
+    color: #ccc;
+    border-color: rgba(255, 255, 255, 0.1);
+}
+
+.dark-mode .custom-select {
+    background: rgba(0, 0, 0, 0.5);
+    color: #ccc;
+    border-color: rgba(255, 255, 255, 0.1);
+}
+
+.dark-mode .custom-select option {
+    background: #2c2c2c;
+}
+
+.dark-mode .theme-toggle-btn {
+    background: rgba(25, 25, 25, 0.8);
+    color: #fff;
+    border: 1px solid rgba(255, 255, 255, 0.1);
+}
\ No newline at end of file
Index: test.csv
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/test.csv b/test.csv
new file mode 100644
--- /dev/null	(revision 8ba06953ad09fca75dbc11f9d3c3d2860d611ecb)
+++ b/test.csv	(revision 8ba06953ad09fca75dbc11f9d3c3d2860d611ecb)
@@ -0,0 +1,31 @@
+é—¨åº—ç¼–å·,é—¨åº—é¢ç§¯,å‘˜å·¥æ•°é‡,å¹¿å‘ŠæŠ•å…¥,ç«å“æ•°é‡,æœˆè¥ä¸šé¢
+1,80,4,1.5,5,38.5
+2,100,5,2.0,3,52.1
+3,120,6,2.5,2,65.8
+4,150,8,3.5,1,85.2
+5,90,4,1.8,4,44.0
+6,110,5,2.2,2,58.3
+7,130,7,3.0,3,71.5
+8,160,8,4.0,1,93.0
+9,85,4,1.6,4,41.2
+10,105,5,2.1,3,55.4
+11,125,6,2.8,2,69.1
+12,155,8,3.8,1,89.5
+13,95,5,1.9,4,48.6
+14,115,6,2.4,2,62.7
+15,135,7,3.2,3,75.3
+16,165,9,4.2,1,98.2
+17,102,5,2.0,3,53.0
+18,122,6,2.6,2,67.2
+19,142,7,3.4,2,80.1
+20,170,9,4.5,0,105.5
+21,88,4,1.7,4,42.8
+22,108,5,2.3,3,57.1
+23,128,6,2.9,2,70.8
+24,148,8,3.6,1,87.6
+25,175,10,4.8,0,112.3
+26,92,4,1.8,4,45.5
+27,112,6,2.5,2,64.2
+28,132,7,3.1,3,73.4
+29,152,8,3.7,1,88.9
+30,180,10,5.0,0,118.0
\ No newline at end of file
