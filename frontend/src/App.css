/* =========================================
   1. 全局基础配置与包裹器
========================================= */
.app-global-wrapper {
    position: relative;
    width: 100vw;
    height: 100vh;
    overflow: hidden;
    font-family: 'Helvetica Neue', Arial, sans-serif;
    color: #2c3e50;
    transition: color 0.3s;
}

.app-wrapper {
    position: relative;
    z-index: 10;
    width: 100%;
    height: 100%;
    transition: filter 0.3s;
}

.blur-bg {
    filter: blur(10px);
    pointer-events: none;
}

/* =========================================
   2. 动态视频/图片背景引擎
========================================= */
.video-background {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    z-index: 0;
    background: linear-gradient(135deg, #74ebd5 0%, #9face6 100%);
    overflow: hidden;
}

.bg-video {
    width: 100%; height: 100%;
    object-fit: cover;
    display: block;
}

.bg-overlay {
    position: absolute;
    top: 0; left: 0;
    width: 100%; height: 100%;
    background: rgba(255, 255, 255, 0.2);
    transition: background 0.3s;
}

/* =========================================
   3. 悬浮控件与基础按钮
========================================= */
.theme-toggle-btn {
    position: fixed;
    bottom: 30px; right: 30px;
    z-index: 100;
    padding: 12px 20px;
    border-radius: 30px;
    border: none;
    font-weight: bold;
    cursor: pointer;
    background: rgba(255, 255, 255, 0.8);
    color: #333;
    box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
    backdrop-filter: blur(10px);
    transition: transform 0.3s;
}

.theme-toggle-btn:hover { transform: scale(1.05); }

.glass-btn {
    border: none;
    border-radius: 8px;
    font-weight: bold;
    cursor: pointer;
    transition: all 0.3s;
    padding: 12px;
}

.primary-btn { background: rgba(64, 158, 255, 0.9); color: white; }
.primary-btn:hover { background: rgba(64, 158, 255, 1); transform: translateY(-2px); box-shadow: 0 4px 12px rgba(64, 158, 255, 0.4); }

.secondary-btn { background: rgba(144, 147, 153, 0.8); color: white; }
.secondary-btn:hover { background: rgba(144, 147, 153, 1); transform: translateY(-2px); }

/* =========================================
   4. 欢迎页与主工作区布局
========================================= */
.welcome-screen {
    display: flex; align-items: center; justify-content: center;
    width: 100%; height: 100%;
}

.welcome-card {
    padding: 60px 80px;
    text-align: center;
    max-width: 700px;
    animation: slideUp 0.8s ease;
}

.glow-title { font-size: 2.8rem; font-weight: 800; margin-bottom: 10px; letter-spacing: 2px; }
.subtitle { font-size: 1.2rem; margin-bottom: 30px; }
.version { font-size: 0.9rem; margin-bottom: 40px; opacity: 0.7; }

.enter-btn {
    padding: 15px 40px;
    font-size: 1.2rem; font-weight: bold; color: #fff;
    background: linear-gradient(90deg, #9b4dca, #409eff);
    border: none; border-radius: 30px;
    cursor: pointer;
    box-shadow: 0 4px 15px rgba(155, 77, 202, 0.4);
    transition: transform 0.2s, box-shadow 0.2s;
}
.enter-btn:hover { transform: translateY(-3px) scale(1.05); box-shadow: 0 8px 25px rgba(155, 77, 202, 0.6); }

.main-dashboard {
    display: flex;
    width: 100%; height: 100%;
    padding: 20px; gap: 20px;
    animation: fadeIn 0.8s ease;
}

/* =========================================
   5. 全局遮罩层与模态框 (Modals)
========================================= */
.modal-overlay {
    position: fixed; top: 0; left: 0;
    width: 100vw; height: 100vh;
    z-index: 999;
    display: flex; align-items: center; justify-content: center;
    background: rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px);
    animation: fadeIn 0.3s ease;
}

.modal-content { padding: 40px; text-align: center; max-width: 450px; animation: slideUp 0.3s ease; }

/* --- 5.1 系统设置与作者名片面板 --- */
.settings-modal-container {
    width: 800px; max-width: 90vw; height: 500px;
    padding: 0; position: relative; overflow: hidden; display: flex;
}
.modal-close-btn {
    position: absolute;
    top: 15px;
    right: 15px;
    z-index: 50;
    width: 32px;
    height: 32px;
    border-radius: 50%;

    /* 核心修复：强制干掉浏览器原生按钮的任何边框和阴影 */
    background: rgba(0, 0, 0, 0.08) !important;
    border: none !important;
    outline: none !important;
    box-shadow: none !important;

    display: flex;
    align-items: center;
    justify-content: center;
    color: #888;
    font-size: 1.1rem;
    cursor: pointer;
    /* 加入丝滑的旋转动画曲线 */
    transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
}

.modal-close-btn:hover {
    background: #f5222d !important;
    color: white !important;
    /* 鼠标放上去时，红色背景 + 微小阴影 + 优雅的顺时针旋转 90 度 */
    transform: rotate(90deg);
    box-shadow: 0 4px 12px rgba(245, 34, 45, 0.4) !important;
}

/* 黑夜模式深度适配 */
.dark-mode .modal-close-btn {
    background: rgba(255, 255, 255, 0.1) !important;
    color: #ccc;
}
.dark-mode .modal-close-btn:hover {
    background: #f5222d !important;
    color: white !important;
}
.settings-layout { display: flex; width: 100%; height: 100%; }

.author-profile-card {
    width: 300px; background: rgba(255, 255, 255, 0.4);
    border-right: 1px solid rgba(255,255,255,0.3); border-radius: 16px 0 0 16px;
    padding: 30px 20px; display: flex; flex-direction: column; align-items: center; text-align: center;
}
.dark-mode .author-profile-card { background: rgba(0, 0, 0, 0.3); border-color: rgba(255,255,255,0.05); }
.avatar-container { width: 100px; height: 100px; border-radius: 50%; padding: 3px; background: linear-gradient(135deg, #ff8a00, #e52e71); margin-bottom: 15px; }
.author-avatar { width: 100%; height: 100%; border-radius: 50%; object-fit: cover; background: white; }
.author-name { margin: 0; font-size: 1.6rem; color: #e53935; font-family: 'Times New Roman', serif; }
.author-bio { font-size: 0.85rem; color: #d32f2f; margin: 15px 0; line-height: 1.6; opacity: 0.9; }

.links-section { display: flex; flex-direction: column; gap: 12px; width: 100%; margin-top: 20px; }
.links-title { color: #e53935; font-weight: bold; font-size: 0.9rem; margin-bottom: 5px; }
.author-link { color: #e53935; text-decoration: none; font-size: 0.95rem; position: relative; padding-bottom: 3px; transition: all 0.3s; }
.author-link::after { content: ''; position: absolute; left: 50%; bottom: 0; transform: translateX(-50%); width: 60%; height: 1px; background: rgba(229, 57, 53, 0.5); transition: width 0.3s; }
.author-link:hover::after { width: 100%; background: #e53935; }
.author-link:hover { transform: scale(1.05); }

.system-settings-panel { flex: 1; padding: 30px 40px; display: flex; flex-direction: column; text-align: left; }
.setting-block { margin-bottom: 25px; }
.setting-block h4 { margin-bottom: 10px; color: #555; }
.dark-mode .setting-block h4 { color: #ccc; }

.color-palette { display: flex; gap: 15px; }
.color-btn { width: 40px; height: 40px; border-radius: 50%; border: 3px solid rgba(255,255,255,0.8); cursor: pointer; transition: transform 0.2s, box-shadow 0.2s; box-shadow: 0 4px 10px rgba(0,0,0,0.1); }
.color-btn:hover { transform: scale(1.15); }
.default-color { background: conic-gradient(#f0f2f5, #1a1a2e); }
.version-info { font-size: 0.8rem; color: #888; line-height: 1.8; background: rgba(0,0,0,0.03); padding: 15px; border-radius: 8px; text-align: center; }

/* --- 5.2 苹果风无极滑动条 (Slider) --- */
.custom-slider { flex: 1; -webkit-appearance: none; width: 100%; height: 6px; background: rgba(0, 0, 0, 0.1); border-radius: 5px; outline: none; transition: background 0.3s; }
.dark-mode .custom-slider { background: rgba(255, 255, 255, 0.2); }
.custom-slider::-webkit-slider-thumb { -webkit-appearance: none; appearance: none; width: 18px; height: 18px; border-radius: 50%; background: #ffffff; border: 2px solid #409eff; cursor: grab; box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2); transition: transform 0.1s; }
.custom-slider::-webkit-slider-thumb:active { cursor: grabbing; transform: scale(1.2); background: #409eff; }

/* --- 5.3 在线表格编辑器专用样式 --- */
.edit-input { width: 100%; box-sizing: border-box; background: transparent; border: none; text-align: center; font-size: 1rem; color: inherit; padding: 12px 8px; outline: none; transition: background 0.2s; }
.edit-input:focus { background: rgba(255, 255, 255, 0.5); }
.head-input { font-weight: bold; color: #333; }
.mini-del-btn { background: none; border: none; color: #888; font-weight: bold; cursor: pointer; padding: 0 5px; font-size: 1.1rem; }
.mini-del-btn:hover { color: #f56c6c; transform: scale(1.2); }
.dark-mode .head-input { color: #eee; }
.dark-mode .edit-input:focus { background: rgba(0, 0, 0, 0.3); }

/* =========================================
   6. 极客终端日志面板 (Terminal)
========================================= */
.log-console-panel {
    position: fixed; right: 20px; bottom: 20px;
    width: 450px; height: 300px;
    background: rgba(10, 10, 15, 0.95);
    border: 1px solid #333; border-radius: 8px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5), 0 0 15px rgba(82, 196, 26, 0.2);
    display: flex; flex-direction: column;
    z-index: 9999; overflow: hidden;
    backdrop-filter: blur(10px);
    animation: slideUp 0.3s ease-out;
}

.log-header { background: #1f1f24; padding: 8px 15px; color: #888; font-size: 0.85rem; display: flex; justify-content: space-between; align-items: center; border-bottom: 1px solid #333; }
.close-log-btn { background: none; border: none; color: #888; cursor: pointer; font-size: 1rem; }
.close-log-btn:hover { color: #fff; }

.log-body { flex: 1; padding: 15px; overflow-y: auto; font-family: 'Courier New', Consolas, monospace; font-size: 0.85rem; color: #4af626; line-height: 1.6; }
.log-line { margin-bottom: 4px; word-wrap: break-word; }
.blinking-cursor { display: inline-block; width: 8px; height: 12px; background: #4af626; animation: blink 1s step-end infinite; margin-top: 5px; }

/* =========================================
   7. 动画与关键帧
========================================= */
.fade-enter-active, .fade-leave-active { transition: opacity 0.3s ease; }
.fade-enter-from, .fade-leave-to { opacity: 0; }
@keyframes slideUp { from { opacity: 0; transform: translateY(30px); } to { opacity: 1; transform: translateY(0); } }
@keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
@keyframes blink { 0%, 100% { opacity: 1; } 50% { opacity: 0; } }

/* V2.0 枢纽卡片悬停特效 */
.module-card:hover {
    transform: translateY(-10px);
    background: rgba(255, 255, 255, 0.7) !important;
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.15);
    border-color: rgba(64, 158, 255, 0.5);
}
.dark-mode .module-card:hover {
    background: rgba(255, 255, 255, 0.15) !important;
    box-shadow: 0 15px 35px rgba(0, 0, 0, 0.5);
}